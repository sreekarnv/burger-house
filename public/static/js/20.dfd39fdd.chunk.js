(this["webpackJsonpburger-house"]=this["webpackJsonpburger-house"]||[]).push([[20],{111:function(t,e,a){"use strict";a.r(e);var n=a(5),r=a.n(n),s=a(6),o=a(0),c=a(13),u=a(14),i=a(16),l=a(15),p=a(1),m=a.n(p),h=a(7),f=a(81),g=a(20),b=a(77),d=a(76),v=(a(17),function(t){Object(i.a)(a,t);var e=Object(l.a)(a);function a(){var t;Object(c.a)(this,a);for(var n=arguments.length,u=new Array(n),i=0;i<n;i++)u[i]=arguments[i];return(t=e.call.apply(e,[this].concat(u))).state={formInput:{email:"",password:""},showAlert:!1},t.onChangeHandler=function(e){var a=Object(b.b)(e,Object(o.a)({},t.state));t.setState(Object(o.a)({},a))},t.onCloseHandler=function(){t.closeAlertTimer=setTimeout((function(){t.setState({showAlert:!1}),"success"===t.props.loginStatus&&t.props.cart?t.props.history.replace("/cart"):"success"===t.props.loginStatus&&"admin"===t.props.user.role?t.props.history.replace("/dashboard/manage-orders"):"success"===t.props.loginStatus&&t.props.history.replace("/menu")}),1500)},t.onSubmitHandler=function(){var e=Object(s.a)(r.a.mark((function e(a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,t.props.loginUser(t.state.formInput);case 3:n=Object(b.a)(t.state),t.setState({formInput:n,showAlert:!0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}return Object(u.a)(a,[{key:"componentWillUnmount",value:function(){clearTimeout(this.closeAlertTimer)}},{key:"render",value:function(){return m.a.createElement(m.a.Fragment,null,this.state.showAlert&&this.props.loginStatus&&m.a.createElement(d.a,{show:this.state.showAlert,status:"success"===this.props.loginStatus?this.props.loginStatus:this.props.loginStatus.status,message:"success"===this.props.loginStatus?"User Logged In Successfully":this.props.loginStatus.message,close:this.onCloseHandler()}),m.a.createElement("section",{className:"login"},m.a.createElement("form",{className:"login__form",onSubmit:this.onSubmitHandler,autoComplete:"off"},m.a.createElement("div",{className:"form__group"},m.a.createElement("h2",{className:"heading-1 u-text-primary u-ftwt-400"},"Login")),m.a.createElement(f.a,{name:"email",inputtype:"input",type:"email",label:"Email",onChange:this.onChangeHandler,value:this.state.formInput.email}),m.a.createElement(f.a,{name:"password",inputtype:"input",type:"password",label:"Password",onChange:this.onChangeHandler,value:this.state.formInput.password,minLength:6}),m.a.createElement(f.a,{inputtype:"submit",value:this.props.loginInit?"Loading...":"Login Now",variant:"tertiary"}))))}}]),a}(p.Component));e.default=Object(h.b)((function(t){return{loginInit:t.auth.loginInit,loginStatus:t.auth.loginStatus,checkAuthInit:t.auth.checkAuthInit,user:t.auth.user,cart:t.cart.cart}}),(function(t){return{loginUser:function(e){return t(g.c(e))}}}))(v)},76:function(t,e,a){"use strict";var n=a(1),r=a.n(n);e.a=function(t){return r.a.createElement("div",{className:"alert alert__".concat(t.show," alert--").concat(t.status," ").concat(t.className)},t.message)}},77:function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"a",(function(){return o}));var n=a(9),r=a(0),s=function(t,e){return Object(r.a)(Object(r.a)({},e),{},{formInput:Object(r.a)(Object(r.a)({},e.formInput),{},Object(n.a)({},t.target.name,t.target.value))})},o=function(t){var e=Object(r.a)({},t.formInput),a={};return Object.keys(e).map((function(t){return a[t]=""})),a}},81:function(t,e,a){"use strict";var n=a(1),r=a.n(n);e.a=function(t){if("input"===t.inputtype){var e=!1!==t.required;return r.a.createElement("div",{className:"form__group "},r.a.createElement("label",{className:"form__label"},t.label),r.a.createElement("input",{type:t.type,name:t.name,id:t.name,placeholder:t.placeholder,className:"form__".concat(t.inputtype," ").concat(t.className),onChange:t.onChange,minLength:t.minLength,value:t.value,required:e}))}if("submit"===t.inputtype){var a=r.a.createElement("input",Object.assign({type:"submit",value:t.value,className:"btn btn__".concat(t.variant," ").concat(t.className)},t));return r.a.createElement("div",{className:"form__group ".concat(t.formGroupClass)},a)}}}}]);
//# sourceMappingURL=20.dfd39fdd.chunk.js.map