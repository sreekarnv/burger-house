(this["webpackJsonpburger-house"]=this["webpackJsonpburger-house"]||[]).push([[17],{109:function(e,t,a){"use strict";a.r(t);var r=a(5),n=a.n(r),s=a(11),u=a(0),i=a(14),o=a(15),c=a(17),l=a(16),p=a(1),m=a.n(p),h=a(12),f=a(82),d=a(21),b=a(78),g=a(76),v=a(95),y=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={formInput:{name:"",email:"",password:"",passwordConfirm:""},showAlert:!1},e.onChangeHandler=function(t){var a=Object(b.b)(t,Object(u.a)({},e.state));e.setState(Object(u.a)({},a))},e.onSubmitHandler=function(){var t=Object(s.a)(n.a.mark((function t(a){var r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.props.registerUser(e.state.formInput);case 3:r=Object(b.a)(e.state),e.setState({formInput:r,showAlert:!0});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onCloseHandler=function(){e.closeAlertTimer=setTimeout((function(){e.setState({showAlert:!1}),"success"===e.props.registerStatus.data.status&&e.props.history.replace("/login")}),2e3)},e}return Object(o.a)(a,[{key:"componentWillUnmount",value:function(){clearTimeout(this.closeAlertTimer)}},{key:"render",value:function(){return m.a.createElement(v.a,null,this.state.showAlert&&this.props.registerStatus&&m.a.createElement(g.a,{show:this.state.showAlert,status:"success"===this.props.registerStatus?this.props.registerStatus:this.props.registerStatus.data.status,message:"success"===this.props.registerStatus.data.status?"User Created Successfully":this.props.registerStatus.data.message,close:this.onCloseHandler()}),m.a.createElement("section",{className:"register"},m.a.createElement("form",{className:"register__form",onSubmit:this.onSubmitHandler,autoComplete:"off"},m.a.createElement("div",{className:"form__group"},m.a.createElement("h2",{className:"heading-1 u-text-primary u-ftwt-400"},"Create an Account")),m.a.createElement(f.a,{name:"name",inputtype:"input",type:"text",label:"Name",onChange:this.onChangeHandler,value:this.state.formInput.name}),m.a.createElement(f.a,{name:"email",inputtype:"input",type:"email",label:"Email",onChange:this.onChangeHandler,value:this.state.formInput.email}),m.a.createElement(f.a,{name:"password",inputtype:"input",type:"password",label:"Password",onChange:this.onChangeHandler,value:this.state.formInput.password,minLength:6}),m.a.createElement(f.a,{name:"passwordConfirm",inputtype:"input",type:"password",label:"Password Confirm",onChange:this.onChangeHandler,value:this.state.formInput.passwordConfirm,minLength:6}),m.a.createElement(f.a,{inputtype:"submit",value:this.props.registerInit?"Loading....":"Register",variant:"tertiary"}))))}}]),a}(p.Component);t.default=Object(h.b)((function(e){return{registerInit:e.auth.registerInit,registerStatus:e.auth.registerStatus,user:e.auth.user}}),(function(e){return{registerUser:function(t){return e(d.e(t))}}}))(y)},76:function(e,t,a){"use strict";var r=a(1),n=a.n(r);t.a=function(e){return n.a.createElement("div",{className:"alert alert__".concat(e.show," alert--").concat(e.status," ").concat(e.className)},e.message)}},78:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return u}));var r=a(8),n=a(0),s=function(e,t){return Object(n.a)(Object(n.a)({},t),{},{formInput:Object(n.a)(Object(n.a)({},t.formInput),{},Object(r.a)({},e.target.name,e.target.value))})},u=function(e){var t=Object(n.a)({},e.formInput),a={};return Object.keys(t).map((function(e){return a[e]=""})),a}},82:function(e,t,a){"use strict";var r=a(1),n=a.n(r);t.a=function(e){if("input"===e.inputtype){var t=!1!==e.required;return n.a.createElement("div",{className:"form__group "},n.a.createElement("label",{className:"form__label"},e.label),n.a.createElement("input",{type:e.type,name:e.name,id:e.name,placeholder:e.placeholder,className:"form__".concat(e.inputtype," ").concat(e.className),onChange:e.onChange,minLength:e.minLength,value:e.value,required:t}))}if("submit"===e.inputtype){var a=n.a.createElement("input",Object.assign({type:"submit",value:e.value,className:"btn btn__".concat(e.variant," ").concat(e.className)},e));return n.a.createElement("div",{className:"form__group ".concat(e.formGroupClass)},a)}}},95:function(e,t,a){"use strict";var r=a(5),n=a.n(r),s=a(11),u=a(14),i=a(15),o=a(17),c=a(16),l=a(1),p=a.n(l),m=a(12),h=a(21),f=a(4),d=a(20),b=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(s.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.checkAuthState();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.props.user?this.props.checkAuthInit?p.a.createElement("div",{className:"u-flex-center u-vh-100 u-bg-white"},p.a.createElement(d.a,null)):this.props.user&&"admin"===this.props.user.role?p.a.createElement(f.a,{to:"/dashboard/manage-orders"}):!this.props.user||this.props.user.role&&"admin"===this.props.user.role?void 0:p.a.createElement(f.a,{to:"/menu"}):this.props.children}}]),a}(l.Component);t.a=Object(m.b)((function(e){return{user:e.auth.user,checkAuthInit:e.auth.checkAuthInit}}),(function(e){return{checkAuthState:function(){return e(h.a())}}}))(b)}}]);
//# sourceMappingURL=17.8f3e7dca.chunk.js.map