{"version":3,"sources":["app/Pages/Register/Register.js","app/Shared/Components/Alert/Alert.js","app/Shared/Utils/formInput.js","app/Shared/Components/Form/Input.js"],"names":["Register","state","formInput","name","email","password","passwordConfirm","showAlert","onChangeHandler","e","onChangeFormInput","setState","onSubmitHandler","a","preventDefault","props","registerUser","clearFields","onCloseHandler","closeAlertTimer","setTimeout","registerStatus","data","status","history","replace","clearTimeout","this","authRedirect","user","to","Fragment","show","message","close","className","onSubmit","autoComplete","inputtype","type","label","onChange","value","minLength","registerInit","variant","Component","connect","auth","dispatch","authActions","Alert","target","stateCopy","Object","keys","map","el","Input","required","id","placeholder","markup","formGroupClass"],"mappings":"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","file":"static/js/21.adff7dc7.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport Input from '../../Shared/Components/Form/Input';\r\n\r\nimport * as authActions from './../../Store/actions/auth';\r\n\r\nimport { onChangeFormInput, clearFields } from '../../Shared/Utils/formInput';\r\n\r\nimport Alert from '../../Shared/Components/Alert/Alert';\r\n\r\n\r\nclass Register extends Component {\r\n    state = {\r\n        formInput: {\r\n            name: '',\r\n            email: '',\r\n            password: '',\r\n            passwordConfirm: ''\r\n        },\r\n        showAlert: false\r\n    }\r\n\r\n    onChangeHandler = e => {\r\n        let formInput = onChangeFormInput(e, { ...this.state })\r\n        this.setState({ ...formInput })\r\n    }\r\n\r\n    onSubmitHandler = async e => {\r\n        e.preventDefault();\r\n        await this.props.registerUser(this.state.formInput)\r\n        let formInput = clearFields(this.state);\r\n\r\n        this.setState({ formInput, showAlert: true })\r\n    }\r\n\r\n    onCloseHandler = () => {\r\n        this.closeAlertTimer = setTimeout(() => {\r\n            this.setState({ showAlert: false });\r\n            if (this.props.registerStatus.data.status === 'success') {\r\n                this.props.history.replace('/login')\r\n            }\r\n        }, 2000)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearTimeout(this.closeAlertTimer);\r\n    }\r\n\r\n    render() {\r\n        let authRedirect = null;\r\n        if (this.props.user) {\r\n            authRedirect = <Redirect to=\"/dashboard\" />\r\n        }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                {authRedirect}\r\n                {this.state.showAlert && this.props.registerStatus &&\r\n                    <Alert\r\n                        show={this.state.showAlert}\r\n                        status={this.props.registerStatus === 'success' ? this.props.registerStatus : this.props.registerStatus.data.status}\r\n                        message={this.props.registerStatus.data.status === 'success'\r\n                            ? \"User Created Successfully\"\r\n                            : this.props.registerStatus.data.message}\r\n                        close={this.onCloseHandler()}\r\n                    />}\r\n                <section className=\"register\">\r\n\r\n                    <form className=\"register__form\" onSubmit={this.onSubmitHandler} autoComplete=\"off\">\r\n                        <div className=\"form__group\">\r\n                            <h2 className=\"heading-1 u-text-primary u-ftwt-400\">Create an Account</h2>\r\n                        </div>\r\n                        <Input\r\n                            name=\"name\"\r\n                            inputtype=\"input\"\r\n                            type=\"text\"\r\n                            label=\"Name\"\r\n                            onChange={this.onChangeHandler}\r\n                            value={this.state.formInput.name}\r\n                        />\r\n\r\n                        <Input\r\n                            name=\"email\"\r\n                            inputtype=\"input\"\r\n                            type=\"email\"\r\n                            label=\"Email\"\r\n                            onChange={this.onChangeHandler}\r\n                            value={this.state.formInput.email}\r\n                        />\r\n\r\n                        <Input\r\n                            name=\"password\"\r\n                            inputtype=\"input\"\r\n                            type=\"password\"\r\n                            label=\"Password\"\r\n                            onChange={this.onChangeHandler}\r\n                            value={this.state.formInput.password}\r\n                            minLength={6}\r\n                        />\r\n\r\n                        <Input\r\n                            name=\"passwordConfirm\"\r\n                            inputtype=\"input\"\r\n                            type=\"password\"\r\n                            label=\"Password Confirm\"\r\n                            onChange={this.onChangeHandler}\r\n                            value={this.state.formInput.passwordConfirm}\r\n                            minLength={6}\r\n                        />\r\n\r\n                        <Input\r\n                            inputtype='submit'\r\n                            value={!this.props.registerInit ? 'Register' : 'Loading....'}\r\n                            variant=\"tertiary\" />\r\n                    </form>\r\n                </section>\r\n            </React.Fragment>\r\n        );\r\n    };\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        registerInit: state.auth.registerInit,\r\n        registerStatus: state.auth.registerStatus,\r\n        user: state.auth.user,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        registerUser: (data) => dispatch(authActions.register(data)),\r\n\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Register);\r\n","import React from 'react';\r\n\r\nconst Alert = props => {\r\n    return (\r\n        <div className={`alert alert__${props.show} alert--${props.status} ${props.className}`}>\r\n            {props.message}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Alert;\r\n","export const onChangeFormInput = (e, state) => {\r\n    return {\r\n        ...state,\r\n        formInput: {\r\n            ...state.formInput,\r\n            [e.target.name]: e.target.value\r\n        }\r\n    }\r\n}\r\n\r\nexport const clearFields = (state) => {\r\n    let stateCopy = { ...state.formInput };\r\n    let formInput = {};\r\n    Object.keys(stateCopy).map(el => {\r\n        return formInput[el] = ''\r\n    })\r\n    return formInput;\r\n}","import React from 'react'\r\n\r\nconst Input = props => {\r\n    if (props.inputtype === 'input') {\r\n        let required = props.required === false ? false : true;\r\n        return (\r\n            <div className={`form__group `}>\r\n                <label className=\"form__label\">{props.label}</label>\r\n                <input\r\n                    type={props.type}\r\n                    name={props.name}\r\n                    id={props.name}\r\n                    placeholder={props.placeholder}\r\n                    className={`form__${props.inputtype} ${props.className}`}\r\n                    onChange={props.onChange}\r\n                    minLength={props.minLength}\r\n                    value={props.value}\r\n                    required={required}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if (props.inputtype === 'submit') {\r\n        let markup = <input type=\"submit\"\r\n            value={props.value}\r\n            className={`btn btn__${props.variant} ${props.className}`}\r\n            {...props}\r\n        />\r\n\r\n        return (\r\n            <div className={`form__group ${props.formGroupClass}`}>\r\n                {markup}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Input\r\n"],"sourceRoot":""}