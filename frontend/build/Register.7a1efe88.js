function e(e,r,s,a){Object.defineProperty(e,r,{get:s,set:a,enumerable:!0,configurable:!0})}var r=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequireb892;r.register("lwx93",(function(s,a){var t;t=s.exports,Object.defineProperty(t,"__esModule",{value:!0,configurable:!0}),e(s.exports,"default",(function(){return j}));var o=r("2fYNA"),i=r("8d0rP"),n=r("gsKHE"),l=r("4Io2N"),d=r("bzs65"),u=r("fL72J"),c=r("4x6ZE"),m=r("dMnY7"),f=r("hyaDb"),p=r("9KBh5"),g=r("wMVjP"),h=r("96BiK"),w=r("1BTiU"),v=r("6oRRF");const x=n.object().shape({name:n.string().required("user must provide their name").trim(),email:n.string().required("user must provide their email").email("please provide a valid email").trim(),password:n.string().required("user must provide a password").min(6,"password must contain atleast 6 characters"),passwordConfirm:n.string().required("users must confirm their password").when("password",{is:e=>!!(e&&e.length>0),then:n.string().oneOf([n.ref("password")],"passwords do not match")})}),b={name:"",email:"",password:"",passwordConfirm:""};var j=()=>{v.default();const{alertMessage:e,alertType:r,setAlert:s,showAlert:a}=g.default(),t=u.useSelector((e=>e.location.location)),n=u.useDispatch(),{isOpen:j,onToggle:y}=h.default(),{register:N,isLoading:T}=w.default({onSuccess:()=>{s("success","Your account has been created successfully..")},onError:e=>{var r,a;s("danger",(null==e||null===(r=e.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"something went wrong")}});return i.useEffect((()=>{n(j?l.updateAllowLocation(!0):l.updateAllowLocation(!1))}),[j,l,n]),o.jsxs(o.Fragment,{children:[a&&o.jsx(c.default,{position:"top-center",type:r,children:e}),o.jsx("div",{className:"register",children:o.jsx(d.Formik,{onSubmit:(e,r)=>{N({...e,location:t}),r.resetForm()},validationSchema:x,initialValues:b,children:o.jsx(d.Form,{className:"register__form",autoComplete:"off",children:o.jsxs("div",{className:"register__form-content",children:[o.jsx("h1",{className:"u-mb-7 u-ftwt-400 u-text-primary heading-2",children:"Register"}),o.jsx(f.default,{label:"Name",name:"name"}),o.jsx(f.default,{label:"Email",name:"email"}),o.jsx(f.default,{type:"password",label:"Password",name:"password"}),o.jsx(f.default,{type:"password",label:"Password Confirm",name:"passwordConfirm"}),o.jsxs("div",{className:"register__form-switch u-mb-10",children:[o.jsx(p.default,{active:j,color:"tertiary",onToggle:y}),o.jsx("span",{className:"u-ml-5",children:"Address (Give Access To Your Location)"})]}),o.jsx(m.default,{children:T?"Loading...":"Register"})]})})})})]})}})),r.register("9KBh5",(function(s,a){e(s.exports,"default",(function(){return o}));var t=r("2fYNA");var o=r("8d0rP").memo((({active:e,onToggle:r,color:s="primary",className:a})=>t.jsx(t.Fragment,{children:[t.jsx("label",{className:`switch ${e?`switch__active  u-bg-${s}`:""} ${a}`,onClick:()=>{r()},children:t.jsx("div",{className:"switch__slider"})})]})))})),r.register("96BiK",(function(s,a){e(s.exports,"default",(function(){return o}));var t=r("8d0rP");var o=(e=!1)=>{const[r,s]=t.useState(e);return{isOpen:r,onOpen:()=>s(!0),onClose:()=>s(!1),onToggle:()=>s(!r)}}})),r.register("1BTiU",(function(s,a){e(s.exports,"default",(function(){return n}));var t=r("fYxNN"),o=r("1Hhev"),i=r("jFA1T");var n=({onError:e,onSettled:r,onSuccess:s})=>{const a=o.useHistory(),{mutate:n,isLoading:l,data:d,error:u}=i.useMutation((e=>(async e=>(await t.default({method:"POST",url:"/api/v2/users/register",data:e})).data.user)(e)),{onSuccess:e=>{s&&s(e)},onError:r=>{e&&e(r)},onSettled:(e,s)=>{r&&r(e,s),e&&setTimeout((()=>{a.replace("/auth/login")}),1500)}});return{register:n,data:d,isLoading:l,error:u}}}));