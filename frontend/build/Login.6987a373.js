!function(){function e(e,r,t,n){Object.defineProperty(e,r,{get:t,set:n,enumerable:!0,configurable:!0})}var r=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequireb892;r.register("jBYM5",(function(t,n){var a;a=t.exports,Object.defineProperty(a,"__esModule",{value:!0,configurable:!0}),e(t.exports,"default",(function(){return h}));var o=r("9DAHI"),i=r("MTsmO"),s=r("bxYpe"),u=r("eG9zp"),l=r("7NZTF"),d=r("2WtOj"),c=r("W0Qr7"),f=r("39Qpo"),p=r("9lsgi"),m=i.object().shape({email:i.string().required("user must provide their email").email("Please provide a valid email").trim(),password:i.string().required("user must provide a password")}),g={email:"",password:""},h=function(){p.default("not-protected","/menu");var e=f.default(),r=e.alertMessage,t=e.alertType,n=e.setAlert,a=e.showAlert,i=c.default({onError:function(e){n("danger",e.response.data.message||"something went wrong")}}),h=i.isLoading,b=i.login;return o.jsxs(o.Fragment,{children:[a&&o.jsx(d.default,{position:"top-center",type:t,children:r}),o.jsx("div",{className:"login",children:o.jsx(s.Formik,{onSubmit:function(e,r){b(e),r.resetForm()},validationSchema:m,initialValues:g,children:o.jsx(s.Form,{className:"login__form",autoComplete:"off",children:o.jsxs("div",{className:"login__form-content",children:[o.jsx("h1",{className:"u-mb-7 u-text-capitalize u-ftwt-400 u-text-primary heading-2",children:"login"}),o.jsx(l.default,{label:"Email",name:"email"}),o.jsx(l.default,{type:"password",label:"Password",name:"password"}),o.jsx(u.default,{children:h?"Loading...":"Login"})]})})})})]})}})),r.register("W0Qr7",(function(t,n){e(t.exports,"default",(function(){return d}));var a=r("eGTdo"),o=r("6HHIu"),i=r("l7kuk"),s=r("4bU42"),u=r("ijCuw"),l=a.asyncToGenerator(u.mark((function e(r){var t;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.default({method:"POST",url:"/api/v2/users/login",data:r});case 2:return t=e.sent,e.abrupt("return",t.data.user);case 4:case"end":return e.stop()}}),e)}))),d=function(e){var r=e.onError,t=e.onSettled,n=e.onSuccess,a=o.useQueryClient(),i=s.useHistory(),u=o.useMutation((function(e){return l(e)}),{onSuccess:function(e){a.setQueryData("user",e),n&&n(e)},onError:function(e){r&&r(e)},onSettled:function(e,r){t&&t(e,r),e&&setTimeout((function(){i.replace("/menu")}),2500)}}),d=u.mutate,c=u.isLoading;return{login:d,data:u.data,isLoading:c,error:u.error}}}))}();