!function(){function e(e,r,t,n){Object.defineProperty(e,r,{get:t,set:n,enumerable:!0,configurable:!0})}var r=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequireb892;r.register("6EIhy",(function(t,n){var a;a=t.exports,Object.defineProperty(a,"__esModule",{value:!0,configurable:!0}),e(t.exports,"default",(function(){return m}));var d=r("eGTdo"),s=r("9DAHI"),i=r("21wn6"),l=r("dp4Ft"),u=r("iCYYX"),o=r("43iUD"),c=r("8g6D7"),f=r("bNM2x"),v=r("foWj5"),p=r("03MGD"),x=r("4bU42"),m=function(e){var r,t,n,a=x.useHistory().push,m=d.slicedToArray(i.useState(""),2),h=m[0],g=m[1],j=d.slicedToArray(i.useState([]),2),b=j[0],N=j[1],y=p.default({}),_=y.isLoading,C=y.data,S=v.default({}),T=S.isLoading,w=S.data;return i.useEffect((function(){(null==w?void 0:w.length)&&N(w)}),[w]),i.useEffect((function(){if(null==h?void 0:h.length){var e=d.toConsumableArray(w).filter((function(e){return e.status===h}));N(e)}else N(w)}),[h,w]),_?s.jsx(l.default,{fullScreen:!0}):s.jsxs("div",{className:"orders-admin",children:[s.jsx("h1",{className:"heading-2 u-text-center u-text-capitalize u-text-primary u-mb-12",children:"Manage Orders"}),s.jsxs("div",{className:"orders-admin__stats u-mb-18",children:[s.jsx(o.default,{fieldClassName:"u-text-tertiary",field:"total",value:"Rs ".concat(((null==C||null===(r=C.pending)||void 0===r?void 0:r.price)||0)+(null==C?void 0:C.delivered.price)+(null==C?void 0:C.cancelled.price))}),s.jsx(o.default,{fieldClassName:"u-text-black",field:"total orders",value:(null==C?void 0:C.delivered.total)+(null==C?void 0:C.cancelled.total)+((null==C||null===(t=C.pending)||void 0===t?void 0:t.total)||0)}),s.jsx(o.default,{fieldClassName:"u-text-success",field:"delivered orders",value:null==C?void 0:C.delivered.total}),s.jsx(o.default,{fieldClassName:"u-text-dark",field:"cancelled orders",value:null==C?void 0:C.cancelled.total}),s.jsx(o.default,{fieldClassName:"u-text-danger",field:"pending orders",value:(null==C||null===(n=C.pending)||void 0===n?void 0:n.total)||0})]}),s.jsxs("div",{className:"orders-admin__list",children:[s.jsx("div",{className:"orders-admin__list-filter",children:s.jsxs(f.default,{onChange:function(e){return g(e.target.value)},children:[s.jsx(u.default,{value:"",children:"-"}),s.jsx(u.default,{value:"cancelled",children:"Cancelled"}),s.jsx(u.default,{value:"delivered",children:"Delivered"}),s.jsx(u.default,{value:"pending",children:"Pending"})]})}),s.jsxs("div",{className:"orders-admin__list-items",children:[T&&s.jsx("h5",{className:"heading-3 u-text-center u-text-primary",children:"Loading..."}),null==b?void 0:b.map((function(e){return h.length?e.status===h?s.jsx(c.default,{onClick:function(){return a("/dashboard/admin/orders/".concat(e._id))},order:e},e._id):null:s.jsx(c.default,{onClick:function(){return a("/dashboard/admin/orders/".concat(e._id))},order:e},e._id)})),!(null==b?void 0:b.length)&&s.jsxs("h5",{className:"u-text-center u-text-danger heading-3 u-text-capitalize",children:["No ",h," Orders"]})]})]})]})}})),r.register("iCYYX",(function(t,n){e(t.exports,"default",(function(){return s}));var a=r("eGTdo"),d=r("9DAHI"),s=function(e){var r=e.children,t=a.objectWithoutProperties(e,["children"]);return d.jsx("option",a.objectSpread({},t,{children:r}))}})),r.register("43iUD",(function(t,n){e(t.exports,"default",(function(){return d}));var a=r("9DAHI"),d=function(e){var r=e.field,t=e.value,n=e.fieldClassName,d=e.valueClassName;return a.jsxs("div",{className:"order-admin-stat-card u-text-center u-p-8",children:[a.jsx("p",{className:"order-admin-stat-card__field u-text-uppercase u-ftwt-700 ".concat(n||""),children:r}),a.jsx("p",{className:"order-admin-stat-card__value u-text-primary ".concat(d||""),children:t})]})}})),r.register("bNM2x",(function(t,n){e(t.exports,"default",(function(){return s}));var a=r("eGTdo"),d=r("9DAHI"),s=function(e){var r=e.children,t=a.objectWithoutProperties(e,["children"]);return d.jsx("select",a.objectSpread({className:"input"},t,{children:r}))}})),r.register("foWj5",(function(t,n){e(t.exports,"default",(function(){return o}));var a=r("eGTdo"),d=r("l7kuk"),s=r("4bU42"),i=r("6HHIu"),l=r("ijCuw"),u=a.asyncToGenerator(l.mark((function e(){var r;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.default({method:"GET",url:"/api/v2/orders/admin"});case 2:return r=e.sent,e.abrupt("return",r.data.data);case 4:case"end":return e.stop()}}),e)}))),o=function(e){var r=e.onError,t=e.onSuccess,n=e.onSettled,a=s.useHistory().replace,d=i.useQuery("admin-orders",u,{onSuccess:function(e){t&&t(e)},onError:function(e){r&&r(e),403===e.response.status&&a({pathname:"/error",state:{message:e.response.data.message}})},onSettled:function(e,r){n&&n(e,r)}});return{data:d.data,error:d.error,isLoading:d.isLoading}}})),r.register("03MGD",(function(t,n){e(t.exports,"default",(function(){return o}));var a=r("eGTdo"),d=r("l7kuk"),s=r("4bU42"),i=r("6HHIu"),l=r("ijCuw"),u=a.asyncToGenerator(l.mark((function e(){var r;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.default({method:"GET",url:"/api/v2/orders/admin/orderStats"});case 2:return r=e.sent,e.abrupt("return",r.data.orderStats);case 4:case"end":return e.stop()}}),e)}))),o=function(e){var r=e.onError,t=e.onSuccess,n=e.onSettled,a=s.useHistory().replace,d=i.useQuery("order-admin-stats",u,{onSuccess:function(e){t&&t(e)},onError:function(e){403===e.response.status&&a({pathname:"/error",state:{message:e.response.data.message}}),r&&r(e)},onSettled:function(e,r){n&&n(e,r)}});return{data:d.data,error:d.error,isLoading:d.isLoading}}}))}();