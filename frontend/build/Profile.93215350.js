parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"aJ80":[function(require,module,exports) {

},{"./..\\..\\..\\..\\..\\images\\gallery-3.jpg":[["gallery-3.473d0585.jpg","LnAq"],"LnAq"]}],"mRLY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("react"));function t(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return t=function(){return e},e}function r(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=t();if(r&&r.has(e))return r.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var i=n?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(a,u,i):a[u]=e[u]}return a.default=e,r&&r.set(e,a),a}var a=["webp","jpeg","jpg","png","svg+xml"],n=function(){var t=e.useState(),r=t[0],n=t[1],u=e.useState(),i=u[0],l=u[1],o=e.useState(),f=o[0],p=o[1];return{error:r,imagefile:i,imageUrl:f,uploadFile:function(e){if(n(null),!e.target.files[0])return n("please upload an image");if(!a.includes(e.target.files[0].type.split("/")[1]))return n("please upload images only");l(e.target.files[0]);var t=URL.createObjectURL(e.target.files[0]);p(t)}}},u=n;exports.default=u;
},{"react":"n8MK"}],"beZN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.updateDetails=void 0;var e=require("react-query"),t=n(require("~app/axios"));function n(e){return e&&e.__esModule?e:{default:e}}var r=function(e,t,n,r){return new(n||(n=Promise))(function(o,u){function a(e){try{c(r.next(e))}catch(t){u(t)}}function i(e){try{c(r.throw(e))}catch(t){u(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,i)}c((r=r.apply(e,t||[])).next())})},o=function(e,t){var n,r,o,u,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function i(u){return function(i){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(i){u=[6,i],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,i])}}},u=function(e){return r(void 0,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,(0,t.default)({method:"PATCH",url:"/api/v2/users/me",data:e})];case 1:return[2,n.sent().data.data]}})})};exports.updateDetails=u;var a=function(t){var n=t.onError,r=t.onSettled,o=t.onSuccess,a=(0,e.useQueryClient)(),i=(0,e.useMutation)(function(e){return u(e)},{onSuccess:function(e){a.setQueryData("user",e),o&&o(e)},onError:function(e){n&&n(e)},onSettled:function(e,t){r&&r(e,t)}}),c=i.mutate,l=i.isLoading;return{updateDetails:c,data:i.data,isLoading:l,error:i.error}},i=a;exports.default=i;
},{"react-query":"CF1j","~app/axios":"wOHo"}],"TGiB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.updatePassword=void 0;var e=r(require("~app/axios")),t=require("react-query");function r(e){return e&&e.__esModule?e:{default:e}}var n=function(e,t,r,n){return new(r||(r=Promise))(function(o,u){function a(e){try{s(n.next(e))}catch(t){u(t)}}function i(e){try{s(n.throw(e))}catch(t){u(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,i)}s((n=n.apply(e,t||[])).next())})},o=function(e,t){var r,n,o,u,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function i(u){return function(i){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(i){u=[6,i],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,i])}}},u=function(t){return n(void 0,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return[4,(0,e.default)({method:"POST",url:"/api/v2/users/updateCurrentUserPassword",data:t})];case 1:return[2,r.sent().data.user]}})})};exports.updatePassword=u;var a=function(e){var r=e.onError,n=e.onSettled,o=e.onSuccess,a=(0,t.useMutation)(function(e){return u(e)},{onSuccess:function(e){o&&o(e)},onError:function(e){r&&r(e)},onSettled:function(e,t){n&&n(e,t)}}),i=a.mutate,s=a.isLoading;return{updatePassword:i,data:a.data,isLoading:s,error:a.error}},i=a;exports.default=i;
},{"~app/axios":"wOHo","react-query":"CF1j"}],"yDyP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=w(require("react")),t=w(require("yup")),r=require("formik"),a=require("react-query"),o=c(require("~app/components/shared/ui/button/Button")),n=c(require("~app/components/shared/ui/form/FormInput/FormInput"));require("./profile.scss");var s=c(require("~app/components/shared/ui/avatar/Avatar")),u=c(require("~app/hooks/useAlert")),i=c(require("~app/components/shared/ui/alert/Alert")),l=c(require("~app/hooks/useImageUpload")),p=c(require("~app/hooks/api/mutations/useUpdateUserDetailsMutation")),d=c(require("~app/hooks/api/mutations/useUpdateUserPasswordMutation")),m=require("react-router-dom");function c(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function w(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var n=a?Object.getOwnPropertyDescriptor(e,o):null;n&&(n.get||n.set)?Object.defineProperty(r,o,n):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}var h=t.object().shape({name:t.string().required("user must have a name"),email:t.string().required("user must have an email address").email("please enter a valid email")}),g=t.object().shape({currentPassword:t.string().required("please provide your current password"),password:t.string().required("user must provide a password").min(6,"password must contain atleast 6 characters"),passwordConfirm:t.string().required("users must confirm their password").when("password",{is:function(e){return!!(e&&e.length>0)},then:t.string().oneOf([t.ref("password")],"passwords do not match")})}),y=["webp","jpeg","jpg","png","svg+xml"],v=function(){var t=(0,a.useQueryClient)(),c=(0,u.default)(),f=c.alertMessage,w=c.alertType,y=c.setAlert,v=c.showAlert,b=(0,l.default)(),E=b.error,q=b.imagefile,P=b.imageUrl,_=b.uploadFile,U=(0,m.useHistory)(),j=t.getQueryData("user"),k=e.useRef(),C=(0,p.default)({onSuccess:function(){y("success","your details have been updated!")},onError:function(){y("danger","could not update yout details")}}),O=C.isLoading,F=C.updateDetails,D=(0,d.default)({onSuccess:function(){y("success","your password has been updated! You will be logged out")},onError:function(e){y("danger","could not update yout details")},onSettled:function(e,t){e&&setTimeout(function(){U.replace("/auth/logout")},1500)}}),M=D.isLoading,N=D.updatePassword;return e.useEffect(function(){E&&y("danger",E)},[E]),e.createElement(e.Fragment,null,v&&e.createElement(i.default,{position:"top-center",type:w},f),e.createElement("div",{className:"profile"},e.createElement(r.Formik,{validationSchema:h,initialValues:{name:null==j?void 0:j.name,email:null==j?void 0:j.email},onSubmit:function(e){var t=e.name,r=e.email,a=new FormData;a.append("name",t),a.append("email",r),q&&a.append("photo",q),F(a)}},e.createElement(r.Form,{autoComplete:"off",className:"profile__form profile__form--1"},e.createElement("h2",{className:"heading-2 u-text-primary u-ftwt-400 u-mb-5"},"Update User Details"),e.createElement(n.default,{label:"Name",name:"name"}),e.createElement(n.default,{label:"Email",name:"email"}),e.createElement("div",{className:"u-mb-5 profile__form-photo"},e.createElement(o.default,{type:"button",onClick:function(){k.current.click()},variant:"outlined",size:"sm"},"Upload Photo"),e.createElement("input",{onChange:_,type:"file",style:{display:"none"},ref:k}),e.createElement(s.default,{src:P||""+(null==j?void 0:j.photoUrl),alt:null==j?void 0:j.name,size:"sm"})),e.createElement(o.default,{type:"submit",color:"tertiary"},O?"Loading...":"Update Details"))),e.createElement(r.Formik,{initialValues:{currentPassword:"",password:"",passwordConfirm:""},validationSchema:g,onSubmit:function(e){N(e)}},function(){return e.createElement(r.Form,{autoComplete:"off",className:"profile__form profile__form--2"},e.createElement("h2",{className:"heading-2 u-text-primary u-mb-8 u-ftwt-400"},"Update User Password"),e.createElement(n.default,{label:"Current Password",name:"currentPassword",type:"password"}),e.createElement(n.default,{label:"Password",name:"password",type:"password"}),e.createElement(n.default,{label:"Password Confirm",name:"passwordConfirm",type:"password"}),e.createElement(o.default,{color:"tertiary"},M?"Loading...":"Update Password"))})))},b=v;exports.default=b;
},{"react":"n8MK","yup":"Iq5O","formik":"i37J","react-query":"CF1j","~app/components/shared/ui/button/Button":"tUI5","~app/components/shared/ui/form/FormInput/FormInput":"xPDb","./profile.scss":"aJ80","~app/components/shared/ui/avatar/Avatar":"tMdO","~app/hooks/useAlert":"Kq8X","~app/components/shared/ui/alert/Alert":"Lhhb","~app/hooks/useImageUpload":"mRLY","~app/hooks/api/mutations/useUpdateUserDetailsMutation":"beZN","~app/hooks/api/mutations/useUpdateUserPasswordMutation":"TGiB","react-router-dom":"uc19"}],"FheM":[function(require,module,exports) {
var t=null;function e(){return t||(t=n()),t}function n(){try{throw new Error}catch(e){var t=(""+e.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\/\/[^)\n]+/g);if(t)return r(t[0])}return"/"}function r(t){return(""+t).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\/\/.+)?\/[^/]+(?:\?.*)?$/,"$1")+"/"}exports.getBundleURL=e,exports.getBaseURL=r;
},{}],"TUK3":[function(require,module,exports) {
var r=require("./bundle-url").getBundleURL;function e(r){Array.isArray(r)||(r=[r]);var e=r[r.length-1];try{return Promise.resolve(require(e))}catch(n){if("MODULE_NOT_FOUND"===n.code)return new s(function(n,i){t(r.slice(0,-1)).then(function(){return require(e)}).then(n,i)});throw n}}function t(r){return Promise.all(r.map(u))}var n={};function i(r,e){n[r]=e}module.exports=exports=e,exports.load=t,exports.register=i;var o={};function u(e){var t;if(Array.isArray(e)&&(t=e[1],e=e[0]),o[e])return o[e];var i=(e.substring(e.lastIndexOf(".")+1,e.length)||e).toLowerCase(),u=n[i];return u?o[e]=u(r()+e).then(function(r){return r&&module.bundle.register(t,r),r}).catch(function(r){throw delete o[e],r}):void 0}function s(r){this.executor=r,this.promise=null}s.prototype.then=function(r,e){return null===this.promise&&(this.promise=new Promise(this.executor)),this.promise.then(r,e)},s.prototype.catch=function(r){return null===this.promise&&(this.promise=new Promise(this.executor)),this.promise.catch(r)};
},{"./bundle-url":"FheM"}],0:[function(require,module,exports) {
var b=require("TUK3");b.load([]).then(function(){require("yDyP");});
},{}]},{},[0], null)