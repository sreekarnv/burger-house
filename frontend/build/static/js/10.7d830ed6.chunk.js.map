{"version":3,"sources":["app/Dashboard/User/UserSettings.js","app/store/actions/userActions.js","app/shared/components/Form/FormInput.js"],"names":["UserSettings","user","useSelector","state","auth","dispatch","useDispatch","userUpdateError","history","useHistory","useState","loading","setLoading","showAlert","setShowAlert","userPasswordError","setUserPasswordError","useEffect","timer","setTimeout","clearTimeout","email","type","label","required","value","name","photo","preview","photoUrl","updateDetailsFormState","setUpdateDetailsFormState","currentPassword","password","passwordConfirm","updatePasswordFormState","setUpdatePasswordFormState","updateDetailsHandler","e","a","preventDefault","data","FormData","append","userActions","updatePasswordHandler","axios","method","url","replace","response","fullScreen","variant","message","className","onSubmit","autoComplete","Object","keys","map","el","formState","id","onFormStateChange","updateUserData","actionTypes","res","loginUserSuccess","error","getUserOrders","orders","getUserOrder","order","updateUserOrderInit","updateUserOrderSuccess","updateUserOrderFailed","updateUserOrder","status","FormInput","props","htmlFor","onChange","target","files","URL","createObjectURL","style","display","src","alt","placeholder"],"mappings":"sQAgMeA,UArLM,WACpB,IAAMC,EAAOC,aAAY,SAACC,GAAD,OAAWA,EAAMC,KAAKH,QACzCI,EAAWC,cAEXC,EAAkBL,aAAY,SAACC,GAAD,OAAWA,EAAMF,KAAKM,mBACpDC,EAAUC,cALU,EAMIC,oBAAS,GANb,mBAMnBC,EANmB,KAMVC,EANU,OAOQF,oBAAS,GAPjB,mBAOnBG,EAPmB,KAORC,EAPQ,OAQwBJ,qBARxB,mBAQnBK,EARmB,KAQAC,EARA,KAU1BC,qBAAU,WACT,GAAIV,EAAiB,CACpBO,GAAa,GACb,IAAII,EAAQC,YAAW,WACtBL,GAAa,KACX,KAEH,OAAO,kBAAMM,aAAaF,OAEzB,CAACX,IAnBsB,MAqBkCG,mBAAS,CACpEW,MAAO,CACNC,KAAM,QACNC,MAAO,QACPC,UAAU,EACVC,MAAOxB,EAAKoB,OAEbK,KAAM,CACLJ,KAAM,OACNC,MAAO,OACPC,UAAU,EACVC,MAAOxB,EAAKyB,MAEbC,MAAO,CACNL,KAAM,OACNC,MAAO,QACPE,MAAO,GACPG,QAAS3B,EAAK4B,YAtCU,mBAqBnBC,EArBmB,KAqBKC,EArBL,OA0CoCrB,mBAAS,CACtEsB,gBAAiB,CAChBV,KAAM,WACNC,MAAO,mBACPC,UAAU,EACVC,MAAO,IAERQ,SAAU,CACTX,KAAM,WACNC,MAAO,eACPC,UAAU,EACVC,MAAO,IAERS,gBAAiB,CAChBZ,KAAM,WACNC,MAAO,mBACPC,UAAU,EACVC,MAAO,MA3DiB,mBA0CnBU,EA1CmB,KA0CMC,EA1CN,KA+DpBC,EAAoB,uCAAG,WAAOC,GAAP,eAAAC,EAAA,sDAC5BD,EAAEE,iBACEC,EAAO,IAAIC,SAEXzC,EAAKyB,OAASI,EAAuBJ,KAAKD,OAC7CgB,EAAKE,OAAO,OAAQb,EAAuBJ,KAAKD,OAG7CxB,EAAKoB,QAAUS,EAAuBT,MAAMI,OAC/CgB,EAAKE,OAAO,QAASb,EAAuBT,MAAMI,OAGR,KAAvCK,EAAuBH,MAAMF,OAChCgB,EAAKE,OAAO,QAASb,EAAuBH,MAAMF,OAGnDpB,EAASuC,IAA2BH,IAhBR,2CAAH,sDAmBpBI,EAAqB,uCAAG,WAAOP,GAAP,eAAAC,EAAA,6DAC7BD,EAAEE,iBACF5B,GAAW,GACP6B,EAAO,CACVT,gBAAiBG,EAAwBH,gBAAgBP,MACzDQ,SAAUE,EAAwBF,SAASR,MAC3CS,gBAAiBC,EAAwBD,gBAAgBT,OAN7B,kBASZqB,IAAM,CACrBC,OAAQ,OACRC,IAAK,0CACLP,SAZ2B,0CAgB3B7B,GAAW,GAhBgB,kBAiBpBJ,EAAQyC,QAAQ,YAjBI,0DAoB5BnC,GAAa,GACbE,EAAqB,eAAK,KAAIkC,SAAST,OArBX,QAuB7B7B,GAAW,GAvBkB,0DAAH,sDA0B3B,OAAID,EACI,cAAC,IAAD,CAAQwC,YAAU,IAIzB,qCACEtC,IAAcN,GAAmBQ,IACjC,eAAC,IAAD,CAAOqC,QAAQ,SAAf,UACE7C,GAAmBA,EAAgB8C,QACnCtC,GAAqBA,EAAkBsC,WAG1C,sBAAKC,UAAU,gBAAf,UACC,uBACCC,SAAUlB,EACVmB,aAAa,MACbF,UAAU,2DAHX,UAIC,qBAAKA,UAAU,cAAf,SACC,oBAAIA,UAAU,sCAAd,mCAKAG,OAAOC,KAAK5B,GAAwB6B,KAAI,SAACC,GACzC,OACC,cAAC,IAAD,CACCC,UAAW/B,EAEXgC,GAAIF,EACJG,kBAAmBhC,GAFd6B,MAOR,qBAAKN,UAAU,cAAf,SACC,wBAAQA,UAAU,mCAAmChC,KAAK,SAA1D,SACE,wBAKJ,uBACCiC,SAAUV,EACVW,aAAa,MACbF,UAAU,2DAHX,UAIC,qBAAKA,UAAU,cAAf,SACC,oBAAIA,UAAU,sCAAd,oCAKAG,OAAOC,KAAKvB,GAAyBwB,KAAI,SAACC,GAC1C,OACC,cAAC,IAAD,CACCC,UAAW1B,EAEX2B,GAAIF,EACJG,kBAAmB3B,GAFdwB,MAOR,qBAAKN,UAAU,cAAf,SACC,wBAAQA,UAAU,mCAAmChC,KAAK,SAA1D,SACE,iC,0UC7JK0C,EAAiB,SAACvB,GAC9B,8CAAO,WAAOpC,GAAP,eAAAkC,EAAA,6DACNlC,EApBM,CACNiB,KAAM2C,OAkBA,kBAGanB,IAAM,CACvBC,OAAQ,QACRC,IAAK,mBACLP,SANI,OAGCyB,EAHD,OASL7D,EAtBK,CACNiB,KAAM2C,OAsBL5D,EAAS8D,YAAiBD,EAAIzB,KAAKA,OAV9B,gDAYLpC,GApBkC+D,EAoBJ,KAAIlB,SAAST,KAnBtC,CACNnB,KAAM2C,KACNG,WAKM,kCAR4B,IAACA,IAQ7B,oBAAP,uDAuCYC,EAAgB,WAC5B,8CAAO,WAAOhE,GAAP,eAAAkC,EAAA,6DACNlC,EArBM,CACNiB,KAAM2C,MAmBA,kBAGanB,IAAM,CACvBC,OAAQ,MACRC,IAAK,4BALD,OAGCkB,EAHD,OAQL7D,GAvBkCiE,EAuBJJ,EAAIzB,KAAKA,KAtBlC,CACNnB,KAAM2C,IACNK,YAYM,gDAULjE,GAlBiC+D,EAkBJ,KAAIlB,SAAST,KAjBrC,CACNnB,KAAM2C,IACNG,WAKM,kCAR2B,IAACA,EAPCE,IAe7B,oBAAP,uDAqCYC,EAAe,SAACT,GAC5B,8CAAO,WAAOzD,GAAP,eAAAkC,EAAA,6DACNlC,EArBM,CACNiB,KAAM2C,MAmBA,kBAGanB,IAAM,CACvBC,OAAQ,MACRC,IAAI,2BAAD,OAA6Bc,KAL5B,OAGCI,EAHD,OAQL7D,GAvBiCmE,EAuBJN,EAAIzB,KAAKA,KAtBjC,CACNnB,KAAM2C,IACNO,WAYM,gDAULnE,GAlBgC+D,EAkBJ,KAAIlB,SAAST,KAjBpC,CACNnB,KAAM2C,IACNG,WAKM,kCAR0B,IAACA,EAPCI,IAe5B,oBAAP,uDAkBYC,EAAsB,WAClC,MAAO,CACNnD,KAAM2C,OAIKS,EAAyB,SAACF,GACtC,MAAO,CACNlD,KAAM2C,KACNO,UAIWG,EAAwB,SAACP,GACrC,MAAO,CACN9C,KAAM2C,KACNG,UAIWQ,EAAkB,SAACd,EAAIe,GACnC,8CAAO,WAAOxE,GAAP,eAAAkC,EAAA,6DACNlC,EAASoE,KADH,kBAGa3B,IAAM,CACvBC,OAAQ,QACRC,IAAI,2BAAD,OAA6Bc,GAChCrB,KAAM,CACLoC,OAAQA,GAAU,eAPf,OAGCX,EAHD,OAWL7D,EAASqE,EAAuBR,EAAIzB,KAAKA,OAXpC,gDAaLpC,EAASsE,EAAsB,KAAIzB,SAAST,OAbvC,yDAAP,wD,+DC/EcqC,IA/DG,SAACC,GAAW,IACrBjB,EAAqCiB,EAArCjB,GAAID,EAAiCkB,EAAjClB,UAAWE,EAAsBgB,EAAtBhB,kBAuBvB,MAA2B,SAAvBF,EAAUC,GAAIxC,KAEhB,sBAAKgC,UAAU,6BAAf,UACC,uBAAOA,UAAU,gCAAgC0B,QAASlB,EAA1D,0BAGA,uBACCmB,SAlBwB,SAAC3C,GAC5ByB,EAAkB,2BACdF,GADa,kBAEfC,EAFe,YAAC,eAGbD,EAAUC,IAHE,IAIfrC,MAAOa,EAAE4C,OAAOC,MAAM,GACtBvD,QAASwD,IAAIC,gBAAgB/C,EAAE4C,OAAOC,MAAM,UAa3CzD,KAAMoC,EACNA,GAAIA,EACJwB,MAAO,CAAEC,QAAS,QAClBjE,KAAMuC,EAAUC,GAAIxC,MAAQ,SAE7B,qBAAKgC,UAAU,cAAf,SACC,qBAAKkC,IAAK3B,EAAUC,GAAIlC,QAAS6D,IAAK3B,SAOzC,sBAAKR,UAAU,cAAf,UACC,uBAAO0B,QAASlB,EAAIR,UAAU,cAA9B,SACEO,EAAUC,GAAIvC,QAEhB,uBACC+B,UAAU,cACV7B,MAAOoC,EAAUC,GAAIrC,MACrBwD,SAjDqB,SAAC3C,GACxByB,EAAkB,2BACdF,GADa,kBAEfC,EAFe,YAAC,eAGbD,EAAUC,IAHE,IAIfrC,MAAOa,EAAE4C,OAAOzD,YA6ChBC,KAAMoC,EACNA,GAAIA,EACJ4B,YAAa7B,EAAUC,GAAI4B,YAC3BpE,KAAMuC,EAAUC,GAAIxC,MAAQ,OAC5BE,SAAUqC,EAAUC,GAAItC","file":"static/js/10.7d830ed6.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Loader from \"../../shared/components/Loader/Loader\";\r\n\r\nimport Alert from \"./../../shared/components/Alert/Alert\";\r\nimport FormInput from \"./../../shared/components/Form/FormInput\";\r\n\r\nimport * as userActions from \"./../../store/actions/userActions\";\r\n\r\nconst UserSettings = () => {\r\n\tconst user = useSelector((state) => state.auth.user);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst userUpdateError = useSelector((state) => state.user.userUpdateError);\r\n\tconst history = useHistory();\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [showAlert, setShowAlert] = useState(false);\r\n\tconst [userPasswordError, setUserPasswordError] = useState();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userUpdateError) {\r\n\t\t\tsetShowAlert(true);\r\n\t\t\tlet timer = setTimeout(() => {\r\n\t\t\t\tsetShowAlert(false);\r\n\t\t\t}, 2000);\r\n\r\n\t\t\treturn () => clearTimeout(timer);\r\n\t\t}\r\n\t}, [userUpdateError]);\r\n\r\n\tconst [updateDetailsFormState, setUpdateDetailsFormState] = useState({\r\n\t\temail: {\r\n\t\t\ttype: \"email\",\r\n\t\t\tlabel: \"Email\",\r\n\t\t\trequired: true,\r\n\t\t\tvalue: user.email,\r\n\t\t},\r\n\t\tname: {\r\n\t\t\ttype: \"text\",\r\n\t\t\tlabel: \"Name\",\r\n\t\t\trequired: true,\r\n\t\t\tvalue: user.name,\r\n\t\t},\r\n\t\tphoto: {\r\n\t\t\ttype: \"file\",\r\n\t\t\tlabel: \"photo\",\r\n\t\t\tvalue: \"\",\r\n\t\t\tpreview: user.photoUrl,\r\n\t\t},\r\n\t});\r\n\r\n\tconst [updatePasswordFormState, setUpdatePasswordFormState] = useState({\r\n\t\tcurrentPassword: {\r\n\t\t\ttype: \"password\",\r\n\t\t\tlabel: \"Password Current\",\r\n\t\t\trequired: true,\r\n\t\t\tvalue: \"\",\r\n\t\t},\r\n\t\tpassword: {\r\n\t\t\ttype: \"password\",\r\n\t\t\tlabel: \"Password New\",\r\n\t\t\trequired: true,\r\n\t\t\tvalue: \"\",\r\n\t\t},\r\n\t\tpasswordConfirm: {\r\n\t\t\ttype: \"password\",\r\n\t\t\tlabel: \"Password Confirm\",\r\n\t\t\trequired: true,\r\n\t\t\tvalue: \"\",\r\n\t\t},\r\n\t});\r\n\r\n\tconst updateDetailsHandler = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tlet data = new FormData();\r\n\r\n\t\tif (user.name !== updateDetailsFormState.name.value) {\r\n\t\t\tdata.append(\"name\", updateDetailsFormState.name.value);\r\n\t\t}\r\n\r\n\t\tif (user.email !== updateDetailsFormState.email.value) {\r\n\t\t\tdata.append(\"email\", updateDetailsFormState.email.value);\r\n\t\t}\r\n\r\n\t\tif (updateDetailsFormState.photo.value !== \"\") {\r\n\t\t\tdata.append(\"photo\", updateDetailsFormState.photo.value);\r\n\t\t}\r\n\r\n\t\tdispatch(userActions.updateUserData(data));\r\n\t};\r\n\r\n\tconst updatePasswordHandler = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tsetLoading(true);\r\n\t\tlet data = {\r\n\t\t\tcurrentPassword: updatePasswordFormState.currentPassword.value,\r\n\t\t\tpassword: updatePasswordFormState.password.value,\r\n\t\t\tpasswordConfirm: updatePasswordFormState.passwordConfirm.value,\r\n\t\t};\r\n\t\ttry {\r\n\t\t\tlet res = await axios({\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\turl: \"/api/v2/users/updateCurrentUserPassword\",\r\n\t\t\t\tdata,\r\n\t\t\t});\r\n\r\n\t\t\tif (res) {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\treturn history.replace(\"/logout\");\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tsetShowAlert(true);\r\n\t\t\tsetUserPasswordError({ ...err.response.data });\r\n\t\t}\r\n\t\tsetLoading(false);\r\n\t};\r\n\r\n\tif (loading) {\r\n\t\treturn <Loader fullScreen />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{showAlert && (userUpdateError || userPasswordError) && (\r\n\t\t\t\t<Alert variant='danger'>\r\n\t\t\t\t\t{userUpdateError && userUpdateError.message}\r\n\t\t\t\t\t{userPasswordError && userPasswordError.message}\r\n\t\t\t\t</Alert>\r\n\t\t\t)}\r\n\t\t\t<div className='user-settings'>\r\n\t\t\t\t<form\r\n\t\t\t\t\tonSubmit={updateDetailsHandler}\r\n\t\t\t\t\tautoComplete='off'\r\n\t\t\t\t\tclassName='user-settings__update-form user-settings__update-form--1'>\r\n\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t<h2 className='heading-2 u-text-primary u-ftwt-400'>\r\n\t\t\t\t\t\t\tUpdate User Details\r\n\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{Object.keys(updateDetailsFormState).map((el) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<FormInput\r\n\t\t\t\t\t\t\t\tformState={updateDetailsFormState}\r\n\t\t\t\t\t\t\t\tkey={el}\r\n\t\t\t\t\t\t\t\tid={el}\r\n\t\t\t\t\t\t\t\tonFormStateChange={setUpdateDetailsFormState}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\r\n\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t<button className='btn btn__tertiary auth-form__cta' type='submit'>\r\n\t\t\t\t\t\t\t{\"Update Details\"}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\r\n\t\t\t\t<form\r\n\t\t\t\t\tonSubmit={updatePasswordHandler}\r\n\t\t\t\t\tautoComplete='off'\r\n\t\t\t\t\tclassName='user-settings__update-form user-settings__update-form--2'>\r\n\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t<h2 className='heading-2 u-text-primary u-ftwt-400'>\r\n\t\t\t\t\t\t\tUpdate User Password\r\n\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{Object.keys(updatePasswordFormState).map((el) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<FormInput\r\n\t\t\t\t\t\t\t\tformState={updatePasswordFormState}\r\n\t\t\t\t\t\t\t\tkey={el}\r\n\t\t\t\t\t\t\t\tid={el}\r\n\t\t\t\t\t\t\t\tonFormStateChange={setUpdatePasswordFormState}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\r\n\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t<button className='btn btn__tertiary auth-form__cta' type='submit'>\r\n\t\t\t\t\t\t\t{\"Update Password\"}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default UserSettings;\r\n","import axios from \"axios\";\r\n\r\nimport { loginUserSuccess } from \"./authActions\";\r\nimport * as actionTypes from \"./../actionTypes\";\r\n\r\n//////////////////////////////////////////////////////////////\r\n\r\nexport const updateUserDataInit = () => {\r\n\treturn {\r\n\t\ttype: actionTypes.UPDATE_USER_DATA_INIT,\r\n\t};\r\n};\r\n\r\nexport const updateUserDataSuccess = () => {\r\n\treturn {\r\n\t\ttype: actionTypes.UPDATE_USER_DATA_SUCCESS,\r\n\t};\r\n};\r\n\r\nexport const updateUserDataFailed = (error) => {\r\n\treturn {\r\n\t\ttype: actionTypes.UPDATE_USER_DATA_FAILED,\r\n\t\terror,\r\n\t};\r\n};\r\n\r\nexport const updateUserData = (data) => {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch(updateUserDataInit());\r\n\t\ttry {\r\n\t\t\tconst res = await axios({\r\n\t\t\t\tmethod: \"PATCH\",\r\n\t\t\t\turl: \"/api/v2/users/me\",\r\n\t\t\t\tdata,\r\n\t\t\t});\r\n\r\n\t\t\tdispatch(updateUserDataSuccess());\r\n\t\t\tdispatch(loginUserSuccess(res.data.data));\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(updateUserDataFailed(err.response.data));\r\n\t\t}\r\n\t};\r\n};\r\n\r\n/////////////////////////////////////////////////////////////////////\r\n\r\nexport const getUserOrdersInit = () => {\r\n\treturn {\r\n\t\ttype: actionTypes.GET_USER_ORDERS_INIT,\r\n\t};\r\n};\r\n\r\nexport const getUserOrdersSuccess = (orders) => {\r\n\treturn {\r\n\t\ttype: actionTypes.GET_USER_ORDERS_SUCCESS,\r\n\t\torders,\r\n\t};\r\n};\r\n\r\nexport const getUserOrdersFailed = (error) => {\r\n\treturn {\r\n\t\ttype: actionTypes.GET_USER_ORDERS_FAILED,\r\n\t\terror,\r\n\t};\r\n};\r\n\r\nexport const getUserOrders = () => {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch(getUserOrdersInit());\r\n\t\ttry {\r\n\t\t\tconst res = await axios({\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t\turl: \"/api/v2/users/me/orders\",\r\n\t\t\t});\r\n\r\n\t\t\tdispatch(getUserOrdersSuccess(res.data.data));\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(getUserOrdersFailed(err.response.data));\r\n\t\t}\r\n\t};\r\n};\r\n\r\n///////////////////////////////////////////////////////\r\n\r\nexport const getUserOrderInit = () => {\r\n\treturn {\r\n\t\ttype: actionTypes.GET_USER_ORDER_INIT,\r\n\t};\r\n};\r\n\r\nexport const getUserOrderSuccess = (order) => {\r\n\treturn {\r\n\t\ttype: actionTypes.GET_USER_ORDER_SUCCESS,\r\n\t\torder,\r\n\t};\r\n};\r\n\r\nexport const getUserOrderFailed = (error) => {\r\n\treturn {\r\n\t\ttype: actionTypes.GET_USER_ORDER_FAILED,\r\n\t\terror,\r\n\t};\r\n};\r\n\r\nexport const getUserOrder = (id) => {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch(getUserOrderInit());\r\n\t\ttry {\r\n\t\t\tconst res = await axios({\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t\turl: `/api/v2/users/me/orders/${id}`,\r\n\t\t\t});\r\n\r\n\t\t\tdispatch(getUserOrderSuccess(res.data.data));\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(getUserOrderFailed(err.response.data));\r\n\t\t}\r\n\t};\r\n};\r\n\r\n/////////////////////////////////////////////////////////////\r\n// Cancel User Order (UPDATE)\r\n\r\nexport const updateUserOrderInit = () => {\r\n\treturn {\r\n\t\ttype: actionTypes.UPDATE_USER_ORDER_INIT,\r\n\t};\r\n};\r\n\r\nexport const updateUserOrderSuccess = (order) => {\r\n\treturn {\r\n\t\ttype: actionTypes.UPDATE_USER_ORDER_SUCCESS,\r\n\t\torder,\r\n\t};\r\n};\r\n\r\nexport const updateUserOrderFailed = (error) => {\r\n\treturn {\r\n\t\ttype: actionTypes.UPDATE_USER_ORDER_FAILED,\r\n\t\terror,\r\n\t};\r\n};\r\n\r\nexport const updateUserOrder = (id, status) => {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch(updateUserOrderInit());\r\n\t\ttry {\r\n\t\t\tconst res = await axios({\r\n\t\t\t\tmethod: \"PATCH\",\r\n\t\t\t\turl: `/api/v2/users/me/orders/${id}`,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tstatus: status || \"cancelled\",\r\n\t\t\t\t},\r\n\t\t\t});\r\n\r\n\t\t\tdispatch(updateUserOrderSuccess(res.data.data));\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(updateUserOrderFailed(err.response.data));\r\n\t\t}\r\n\t};\r\n};\r\n","import React from \"react\";\r\n\r\nconst FormInput = (props) => {\r\n\tconst { id, formState, onFormStateChange } = props;\r\n\r\n\tconst onChangeHandler = (e) => {\r\n\t\tonFormStateChange({\r\n\t\t\t...formState,\r\n\t\t\t[id]: {\r\n\t\t\t\t...formState[id],\r\n\t\t\t\tvalue: e.target.value,\r\n\t\t\t},\r\n\t\t});\r\n\t};\r\n\r\n\tconst onFileChangeHandler = (e) => {\r\n\t\tonFormStateChange({\r\n\t\t\t...formState,\r\n\t\t\t[id]: {\r\n\t\t\t\t...formState[id],\r\n\t\t\t\tvalue: e.target.files[0],\r\n\t\t\t\tpreview: URL.createObjectURL(e.target.files[0]),\r\n\t\t\t},\r\n\t\t});\r\n\t};\r\n\r\n\tif (formState[id].type === \"file\") {\r\n\t\treturn (\r\n\t\t\t<div className='form__group form__group-sb'>\r\n\t\t\t\t<label className='btn btn__goto u-text-tertiary' htmlFor={id}>\r\n\t\t\t\t\tUpload Photo\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tonChange={onFileChangeHandler}\r\n\t\t\t\t\tname={id}\r\n\t\t\t\t\tid={id}\r\n\t\t\t\t\tstyle={{ display: \"none\" }}\r\n\t\t\t\t\ttype={formState[id].type || \"text\"}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className='form__image'>\r\n\t\t\t\t\t<img src={formState[id].preview} alt={id} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='form__group'>\r\n\t\t\t<label htmlFor={id} className='form__label'>\r\n\t\t\t\t{formState[id].label}\r\n\t\t\t</label>\r\n\t\t\t<input\r\n\t\t\t\tclassName='form__input'\r\n\t\t\t\tvalue={formState[id].value}\r\n\t\t\t\tonChange={onChangeHandler}\r\n\t\t\t\tname={id}\r\n\t\t\t\tid={id}\r\n\t\t\t\tplaceholder={formState[id].placeholder}\r\n\t\t\t\ttype={formState[id].type || \"text\"}\r\n\t\t\t\trequired={formState[id].required}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default FormInput;\r\n"],"sourceRoot":""}