{"version":3,"sources":["app/shared/components/Form/FormInput.js","app/Auth/Login.js"],"names":["FormInput","props","id","formState","onFormStateChange","type","className","htmlFor","onChange","e","value","target","files","preview","URL","createObjectURL","name","style","display","src","alt","label","placeholder","required","connect","state","user","auth","loginUserInit","loginUserError","cartValue","cart","registerUserStatus","dispatch","loginUser","data","actionTypes","resetRegisterUserStatus","replace","useHistory","useState","showAlert","setShowAlert","useEffect","timer","setTimeout","clearTimeout","email","password","setformState","show","variant","message","autoComplete","onSubmit","preventDefault","Object","keys","map","el","to"],"mappings":"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","file":"static/js/12.d7e487e9.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst FormInput = (props) => {\r\n\tconst { id, formState, onFormStateChange } = props;\r\n\r\n\tconst onChangeHandler = (e) => {\r\n\t\tonFormStateChange({\r\n\t\t\t...formState,\r\n\t\t\t[id]: {\r\n\t\t\t\t...formState[id],\r\n\t\t\t\tvalue: e.target.value,\r\n\t\t\t},\r\n\t\t});\r\n\t};\r\n\r\n\tconst onFileChangeHandler = (e) => {\r\n\t\tonFormStateChange({\r\n\t\t\t...formState,\r\n\t\t\t[id]: {\r\n\t\t\t\t...formState[id],\r\n\t\t\t\tvalue: e.target.files[0],\r\n\t\t\t\tpreview: URL.createObjectURL(e.target.files[0]),\r\n\t\t\t},\r\n\t\t});\r\n\t};\r\n\r\n\tif (formState[id].type === \"file\") {\r\n\t\treturn (\r\n\t\t\t<div className='form__group form__group-sb'>\r\n\t\t\t\t<label className='btn btn__goto u-text-tertiary' htmlFor={id}>\r\n\t\t\t\t\tUpload Photo\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tonChange={onFileChangeHandler}\r\n\t\t\t\t\tname={id}\r\n\t\t\t\t\tid={id}\r\n\t\t\t\t\tstyle={{ display: \"none\" }}\r\n\t\t\t\t\ttype={formState[id].type || \"text\"}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className='form__image'>\r\n\t\t\t\t\t<img src={formState[id].preview} alt={id} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='form__group'>\r\n\t\t\t<label htmlFor={id} className='form__label'>\r\n\t\t\t\t{formState[id].label}\r\n\t\t\t</label>\r\n\t\t\t<input\r\n\t\t\t\tclassName='form__input'\r\n\t\t\t\tvalue={formState[id].value}\r\n\t\t\t\tonChange={onChangeHandler}\r\n\t\t\t\tname={id}\r\n\t\t\t\tid={id}\r\n\t\t\t\tplaceholder={formState[id].placeholder}\r\n\t\t\t\ttype={formState[id].type || \"text\"}\r\n\t\t\t\trequired={formState[id].required}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default FormInput;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\nimport Alert from \"../shared/components/Alert/Alert\";\r\nimport FormInput from \"../shared/components/Form/FormInput\";\r\n\r\nimport * as actionTypes from \"./../store/actions/authActions\";\r\n\r\nconst Login = (props) => {\r\n\tconst {\r\n\t\tuser,\r\n\t\tloginUserInit,\r\n\t\tloginUser,\r\n\t\tcartValue,\r\n\t\tloginUserError,\r\n\t\tresetRegisterUserStatus,\r\n\t\tregisterUserStatus,\r\n\t} = props;\r\n\tconst { replace } = useHistory();\r\n\tconst [showAlert, setShowAlert] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (registerUserStatus) {\r\n\t\t\tsetShowAlert(true);\r\n\t\t\tlet timer = setTimeout(() => {\r\n\t\t\t\tresetRegisterUserStatus();\r\n\t\t\t\tsetShowAlert(false);\r\n\t\t\t}, 8000);\r\n\r\n\t\t\treturn () => clearTimeout(timer);\r\n\t\t}\r\n\t}, [resetRegisterUserStatus, registerUserStatus]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (loginUserError) {\r\n\t\t\tsetShowAlert(true);\r\n\t\t}\r\n\t}, [loginUserError]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (user && cartValue > 0) {\r\n\t\t\treturn replace(\"/cart\");\r\n\t\t}\r\n\r\n\t\tif (user) {\r\n\t\t\treturn replace(\"/menu\");\r\n\t\t}\r\n\t}, [user, replace, cartValue]);\r\n\r\n\tconst [formState, setformState] = useState({\r\n\t\temail: {\r\n\t\t\ttype: \"email\",\r\n\t\t\tlabel: \"Email\",\r\n\t\t\trequired: true,\r\n\t\t\tvalue: \"\",\r\n\t\t},\r\n\t\tpassword: {\r\n\t\t\ttype: \"password\",\r\n\t\t\tlabel: \"Password\",\r\n\t\t\trequired: true,\r\n\t\t\tvalue: \"\",\r\n\t\t},\r\n\t});\r\n\r\n\tconst onFormSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst data = {\r\n\t\t\temail: formState.email.value,\r\n\t\t\tpassword: formState.password.value,\r\n\t\t};\r\n\t\tloginUser(data);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{showAlert && loginUserError && (\r\n\t\t\t\t<Alert show={loginUserError} variant='danger'>\r\n\t\t\t\t\t{loginUserError.message}\r\n\t\t\t\t</Alert>\r\n\t\t\t)}\r\n\r\n\t\t\t{showAlert && registerUserStatus && (\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tshow={registerUserStatus === \"success\" ? true : false}\r\n\t\t\t\t\tvariant='success'>\r\n\t\t\t\t\tAccount Created Successfully. Check your email to activate your\r\n\t\t\t\t\taccount\r\n\t\t\t\t</Alert>\r\n\t\t\t)}\r\n\t\t\t<section className='auth-form login'>\r\n\t\t\t\t<form\r\n\t\t\t\t\tclassName='auth-form__form'\r\n\t\t\t\t\tautoComplete='off'\r\n\t\t\t\t\tonSubmit={onFormSubmit}>\r\n\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t<h2 className='heading-1 u-text-primary u-ftwt-400'>Login</h2>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{Object.keys(formState).map((el) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<FormInput\r\n\t\t\t\t\t\t\t\tformState={formState}\r\n\t\t\t\t\t\t\t\tkey={el}\r\n\t\t\t\t\t\t\t\tid={el}\r\n\t\t\t\t\t\t\t\tonFormStateChange={setformState}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\r\n\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t<button className='btn btn__tertiary auth-form__cta' type='submit'>\r\n\t\t\t\t\t\t\t{loginUserInit ? \"Loading...\" : \"Login\"}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\t\tto='/send-email-confirmation'\r\n\t\t\t\t\t\t\tclassName='form__link  u-text-primary'>\r\n\t\t\t\t\t\t\tAccount Not Verified ? Resend User Verification Email\r\n\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</section>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tuser: state.auth.user,\r\n\t\tloginUserInit: state.auth.loginUserInit,\r\n\t\tloginUserError: state.auth.loginUserError,\r\n\t\tcartValue: state.cart.cartValue,\r\n\t\tregisterUserStatus: state.auth.registerUserStatus,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tloginUser: (data) => dispatch(actionTypes.loginUser(data)),\r\n\t\tresetRegisterUserStatus: () =>\r\n\t\t\tdispatch(actionTypes.resetRegisterUserStatus()),\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n"],"sourceRoot":""}