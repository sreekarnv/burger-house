{"version":3,"sources":["app/Dashboard/User/UserOrders.js","app/store/actions/userActions.js","app/shared/components/BaseListItem/BaseListItem.js","app/Dashboard/components/OrderListItem/OrderListItem.js"],"names":["UserOrders","props","dispatch","useDispatch","route","useRouteMatch","orders","useSelector","state","user","userOrders","ordersInit","userOrdersInit","useEffect","userActions","history","useHistory","fullScreen","className","map","order","onClick","push","path","_id","reverse","updateUserData","data","a","type","actionTypes","axios","method","url","res","loginUserSuccess","error","response","getUserOrders","getUserOrder","id","updateUserOrderInit","updateUserOrderSuccess","updateUserOrderFailed","updateUserOrder","status","BaseListItem","children","MONTHS","OrderListItem","Date","createdAt","getDate","getMonth","getFullYear","price"],"mappings":"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","file":"static/js/8.217ce500.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport OrderListItem from \"../components/OrderListItem/OrderListItem\";\r\nimport Loader from \"./../../shared/components/Loader/Loader\";\r\n\r\nimport * as userActions from \"./../../store/actions/userActions\";\r\n\r\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\r\n\r\nconst UserOrders = (props) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst route = useRouteMatch();\r\n\tconst orders = useSelector((state) => state.user.userOrders);\r\n\tconst ordersInit = useSelector((state) => state.user.userOrdersInit);\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(userActions.getUserOrders());\r\n\t}, [dispatch]);\r\n\r\n\tconst history = useHistory();\r\n\r\n\tif (ordersInit) {\r\n\t\treturn <Loader fullScreen />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='user-orders'>\r\n\t\t\t<h3 className='heading-1 u-text-primary'>My Orders</h3>\r\n\t\t\t<ul className='user-orders__list'>\r\n\t\t\t\t{orders\r\n\t\t\t\t\t.map((order) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<OrderListItem\r\n\t\t\t\t\t\t\t\tonClick={() => history.push(`${route.path}/${order._id}`)}\r\n\t\t\t\t\t\t\t\tkey={order._id}\r\n\t\t\t\t\t\t\t\torder={order}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.reverse()}\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default UserOrders;\r\n","import axios from \"axios\";\r\n\r\nimport { loginUserSuccess } from \"./authActions\";\r\nimport * as actionTypes from \"./../actionTypes\";\r\n\r\n//////////////////////////////////////////////////////////////\r\n\r\nexport const updateUserDataInit = () => {\r\n\treturn {\r\n\t\ttype: actionTypes.UPDATE_USER_DATA_INIT,\r\n\t};\r\n};\r\n\r\nexport const updateUserDataSuccess = () => {\r\n\treturn {\r\n\t\ttype: actionTypes.UPDATE_USER_DATA_SUCCESS,\r\n\t};\r\n};\r\n\r\nexport const updateUserDataFailed = (error) => {\r\n\treturn {\r\n\t\ttype: actionTypes.UPDATE_USER_DATA_FAILED,\r\n\t\terror,\r\n\t};\r\n};\r\n\r\nexport const updateUserData = (data) => {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch(updateUserDataInit());\r\n\t\ttry {\r\n\t\t\tconst res = await axios({\r\n\t\t\t\tmethod: \"PATCH\",\r\n\t\t\t\turl: \"/api/v2/users/me\",\r\n\t\t\t\tdata,\r\n\t\t\t});\r\n\r\n\t\t\tdispatch(updateUserDataSuccess());\r\n\t\t\tdispatch(loginUserSuccess(res.data.data));\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(updateUserDataFailed(err.response.data));\r\n\t\t}\r\n\t};\r\n};\r\n\r\n/////////////////////////////////////////////////////////////////////\r\n\r\nexport const getUserOrdersInit = () => {\r\n\treturn {\r\n\t\ttype: actionTypes.GET_USER_ORDERS_INIT,\r\n\t};\r\n};\r\n\r\nexport const getUserOrdersSuccess = (orders) => {\r\n\treturn {\r\n\t\ttype: actionTypes.GET_USER_ORDERS_SUCCESS,\r\n\t\torders,\r\n\t};\r\n};\r\n\r\nexport const getUserOrdersFailed = (error) => {\r\n\treturn {\r\n\t\ttype: actionTypes.GET_USER_ORDERS_FAILED,\r\n\t\terror,\r\n\t};\r\n};\r\n\r\nexport const getUserOrders = () => {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch(getUserOrdersInit());\r\n\t\ttry {\r\n\t\t\tconst res = await axios({\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t\turl: \"/api/v2/users/me/orders\",\r\n\t\t\t});\r\n\r\n\t\t\tdispatch(getUserOrdersSuccess(res.data.data));\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(getUserOrdersFailed(err.response.data));\r\n\t\t}\r\n\t};\r\n};\r\n\r\n///////////////////////////////////////////////////////\r\n\r\nexport const getUserOrderInit = () => {\r\n\treturn {\r\n\t\ttype: actionTypes.GET_USER_ORDER_INIT,\r\n\t};\r\n};\r\n\r\nexport const getUserOrderSuccess = (order) => {\r\n\treturn {\r\n\t\ttype: actionTypes.GET_USER_ORDER_SUCCESS,\r\n\t\torder,\r\n\t};\r\n};\r\n\r\nexport const getUserOrderFailed = (error) => {\r\n\treturn {\r\n\t\ttype: actionTypes.GET_USER_ORDER_FAILED,\r\n\t\terror,\r\n\t};\r\n};\r\n\r\nexport const getUserOrder = (id) => {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch(getUserOrderInit());\r\n\t\ttry {\r\n\t\t\tconst res = await axios({\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t\turl: `/api/v2/users/me/orders/${id}`,\r\n\t\t\t});\r\n\r\n\t\t\tdispatch(getUserOrderSuccess(res.data.data));\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(getUserOrderFailed(err.response.data));\r\n\t\t}\r\n\t};\r\n};\r\n\r\n/////////////////////////////////////////////////////////////\r\n// Cancel User Order (UPDATE)\r\n\r\nexport const updateUserOrderInit = () => {\r\n\treturn {\r\n\t\ttype: actionTypes.UPDATE_USER_ORDER_INIT,\r\n\t};\r\n};\r\n\r\nexport const updateUserOrderSuccess = (order) => {\r\n\treturn {\r\n\t\ttype: actionTypes.UPDATE_USER_ORDER_SUCCESS,\r\n\t\torder,\r\n\t};\r\n};\r\n\r\nexport const updateUserOrderFailed = (error) => {\r\n\treturn {\r\n\t\ttype: actionTypes.UPDATE_USER_ORDER_FAILED,\r\n\t\terror,\r\n\t};\r\n};\r\n\r\nexport const updateUserOrder = (id, status) => {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch(updateUserOrderInit());\r\n\t\ttry {\r\n\t\t\tconst res = await axios({\r\n\t\t\t\tmethod: \"PATCH\",\r\n\t\t\t\turl: `/api/v2/users/me/orders/${id}`,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tstatus: status || \"cancelled\",\r\n\t\t\t\t},\r\n\t\t\t});\r\n\r\n\t\t\tdispatch(updateUserOrderSuccess(res.data.data));\r\n\t\t} catch (err) {\r\n\t\t\tdispatch(updateUserOrderFailed(err.response.data));\r\n\t\t}\r\n\t};\r\n};\r\n","import React from \"react\";\r\n\r\nconst BaseListItem = (props) => {\r\n\treturn (\r\n\t\t<div\r\n\t\t\tonClick={props.onClick}\r\n\t\t\tclassName={`base-list-item ${props.className}`}>\r\n\t\t\t{props.children}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default BaseListItem;\r\n","import React from \"react\";\r\nimport BaseListItem from \"./../../../shared/components/BaseListItem/BaseListItem\";\r\n\r\nconst MONTHS = [\r\n\t\"Jan\",\r\n\t\"Feb\",\r\n\t\"March\",\r\n\t\"April\",\r\n\t\"May\",\r\n\t\"June\",\r\n\t\"July\",\r\n\t\"Augu\",\r\n\t\"Sept\",\r\n\t\"Oct\",\r\n\t\"Nov\",\r\n\t\"Dec\",\r\n];\r\n\r\nconst OrderListItem = (props) => {\r\n\tconst { order, onClick } = props;\r\n\r\n\treturn (\r\n\t\t<BaseListItem className='order-list-item' onClick={onClick}>\r\n\t\t\t<div className='order-list-item__date'>\r\n\t\t\t\t<span>{new Date(order.createdAt).getDate()}</span>&nbsp;\r\n\t\t\t\t<span>{MONTHS[new Date(order.createdAt).getMonth()]}</span>&nbsp;\r\n\t\t\t\t<span>{new Date(order.createdAt).getFullYear()}</span>\r\n\t\t\t</div>\r\n\t\t\t<p className='order-list-item__id'>#{order._id}</p>\r\n\t\t\t<h3 className='order-list-item__price'>Rs {order.price}</h3>\r\n\t\t\t<p\r\n\t\t\t\tclassName={`order-list-item__status order-list-item__status--${order.status}`}>\r\n\t\t\t\t{order.status}\r\n\t\t\t</p>\r\n\t\t</BaseListItem>\r\n\t);\r\n};\r\n\r\nexport default OrderListItem;\r\n"],"sourceRoot":""}