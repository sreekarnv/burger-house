{"version":3,"sources":["app/Auth/Login.js","app/shared/components/Form/FormInput.js"],"names":["connect","state","user","auth","loginUserInit","loginUserError","cartValue","cart","registerUserStatus","dispatch","loginUser","data","actionTypes","resetRegisterUserStatus","props","replace","useHistory","useState","showAlert","setShowAlert","useEffect","timer","setTimeout","clearTimeout","email","type","label","required","value","password","formState","setformState","show","variant","message","className","autoComplete","onSubmit","e","preventDefault","Object","keys","map","el","id","onFormStateChange","to","FormInput","htmlFor","onChange","target","files","preview","URL","createObjectURL","name","style","display","src","alt","placeholder"],"mappings":"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","file":"static/js/12.dc187f07.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\nimport Alert from \"../shared/components/Alert/Alert\";\r\nimport FormInput from \"../shared/components/Form/FormInput\";\r\n\r\nimport * as actionTypes from \"./../store/actions/authActions\";\r\n\r\nconst Login = (props) => {\r\n\tconst {\r\n\t\tuser,\r\n\t\tloginUserInit,\r\n\t\tloginUser,\r\n\t\tcartValue,\r\n\t\tloginUserError,\r\n\t\tresetRegisterUserStatus,\r\n\t\tregisterUserStatus,\r\n\t} = props;\r\n\tconst { replace } = useHistory();\r\n\tconst [showAlert, setShowAlert] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (registerUserStatus) {\r\n\t\t\tsetShowAlert(true);\r\n\t\t\tlet timer = setTimeout(() => {\r\n\t\t\t\tresetRegisterUserStatus();\r\n\t\t\t\tsetShowAlert(false);\r\n\t\t\t}, 8000);\r\n\r\n\t\t\treturn () => clearTimeout(timer);\r\n\t\t}\r\n\t}, [resetRegisterUserStatus, registerUserStatus]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (loginUserError) {\r\n\t\t\tsetShowAlert(true);\r\n\t\t}\r\n\t}, [loginUserError]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (user && cartValue > 0) {\r\n\t\t\treturn replace(\"/cart\");\r\n\t\t}\r\n\r\n\t\tif (user) {\r\n\t\t\treturn replace(\"/menu\");\r\n\t\t}\r\n\t}, [user, replace, cartValue]);\r\n\r\n\tconst [formState, setformState] = useState({\r\n\t\temail: {\r\n\t\t\ttype: \"email\",\r\n\t\t\tlabel: \"Email\",\r\n\t\t\trequired: true,\r\n\t\t\tvalue: \"\",\r\n\t\t},\r\n\t\tpassword: {\r\n\t\t\ttype: \"password\",\r\n\t\t\tlabel: \"Password\",\r\n\t\t\trequired: true,\r\n\t\t\tvalue: \"\",\r\n\t\t},\r\n\t});\r\n\r\n\tconst onFormSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst data = {\r\n\t\t\temail: formState.email.value,\r\n\t\t\tpassword: formState.password.value,\r\n\t\t};\r\n\t\tloginUser(data);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{showAlert && loginUserError && (\r\n\t\t\t\t<Alert show={loginUserError} variant='danger'>\r\n\t\t\t\t\t{loginUserError.message}\r\n\t\t\t\t</Alert>\r\n\t\t\t)}\r\n\r\n\t\t\t{showAlert && registerUserStatus && (\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tshow={registerUserStatus === \"success\" ? true : false}\r\n\t\t\t\t\tvariant='success'>\r\n\t\t\t\t\tAccount Created Successfully. Check your email to activate your\r\n\t\t\t\t\taccount\r\n\t\t\t\t</Alert>\r\n\t\t\t)}\r\n\t\t\t<section className='auth-form login'>\r\n\t\t\t\t<form\r\n\t\t\t\t\tclassName='auth-form__form'\r\n\t\t\t\t\tautoComplete='off'\r\n\t\t\t\t\tonSubmit={onFormSubmit}>\r\n\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t<h2 className='heading-1 u-text-primary u-ftwt-400'>Login</h2>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{Object.keys(formState).map((el) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<FormInput\r\n\t\t\t\t\t\t\t\tformState={formState}\r\n\t\t\t\t\t\t\t\tkey={el}\r\n\t\t\t\t\t\t\t\tid={el}\r\n\t\t\t\t\t\t\t\tonFormStateChange={setformState}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\r\n\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t<button className='btn btn__tertiary auth-form__cta' type='submit'>\r\n\t\t\t\t\t\t\t{loginUserInit ? \"Loading...\" : \"Login\"}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\t\tto='/send-email-confirmation'\r\n\t\t\t\t\t\t\tclassName='form__link  u-text-primary'>\r\n\t\t\t\t\t\t\tAccount Not Verified ? Resend User Verification Email\r\n\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</section>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tuser: state.auth.user,\r\n\t\tloginUserInit: state.auth.loginUserInit,\r\n\t\tloginUserError: state.auth.loginUserError,\r\n\t\tcartValue: state.cart.cartValue,\r\n\t\tregisterUserStatus: state.auth.registerUserStatus,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tloginUser: (data) => dispatch(actionTypes.loginUser(data)),\r\n\t\tresetRegisterUserStatus: () =>\r\n\t\t\tdispatch(actionTypes.resetRegisterUserStatus()),\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n","import React from \"react\";\r\n\r\nconst FormInput = (props) => {\r\n\tconst { id, formState, onFormStateChange } = props;\r\n\r\n\tconst onChangeHandler = (e) => {\r\n\t\tonFormStateChange({\r\n\t\t\t...formState,\r\n\t\t\t[id]: {\r\n\t\t\t\t...formState[id],\r\n\t\t\t\tvalue: e.target.value,\r\n\t\t\t},\r\n\t\t});\r\n\t};\r\n\r\n\tconst onFileChangeHandler = (e) => {\r\n\t\tonFormStateChange({\r\n\t\t\t...formState,\r\n\t\t\t[id]: {\r\n\t\t\t\t...formState[id],\r\n\t\t\t\tvalue: e.target.files[0],\r\n\t\t\t\tpreview: URL.createObjectURL(e.target.files[0]),\r\n\t\t\t},\r\n\t\t});\r\n\t};\r\n\r\n\tif (formState[id].type === \"file\") {\r\n\t\treturn (\r\n\t\t\t<div className='form__group form__group-sb'>\r\n\t\t\t\t<label className='btn btn__goto u-text-tertiary' htmlFor={id}>\r\n\t\t\t\t\tUpload Photo\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tonChange={onFileChangeHandler}\r\n\t\t\t\t\tname={id}\r\n\t\t\t\t\tid={id}\r\n\t\t\t\t\tstyle={{ display: \"none\" }}\r\n\t\t\t\t\ttype={formState[id].type || \"text\"}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className='form__image'>\r\n\t\t\t\t\t<img src={formState[id].preview} alt={id} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='form__group'>\r\n\t\t\t<label htmlFor={id} className='form__label'>\r\n\t\t\t\t{formState[id].label}\r\n\t\t\t</label>\r\n\t\t\t<input\r\n\t\t\t\tclassName='form__input'\r\n\t\t\t\tvalue={formState[id].value}\r\n\t\t\t\tonChange={onChangeHandler}\r\n\t\t\t\tname={id}\r\n\t\t\t\tid={id}\r\n\t\t\t\tplaceholder={formState[id].placeholder}\r\n\t\t\t\ttype={formState[id].type || \"text\"}\r\n\t\t\t\trequired={formState[id].required}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default FormInput;\r\n"],"sourceRoot":""}