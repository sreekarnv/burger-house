function e(e,r,t,a){Object.defineProperty(e,r,{get:t,set:a,enumerable:!0,configurable:!0})}var r=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequireb892;r.register("iGj3Y",(function(t,a){var s;s=t.exports,Object.defineProperty(s,"__esModule",{value:!0,configurable:!0}),e(t.exports,"default",(function(){return h}));var o=r("2fYNA"),n=r("gsKHE"),i=r("bzs65"),l=r("dMnY7"),d=r("hyaDb"),u=r("4x6ZE"),c=r("UT3JG"),f=r("wMVjP"),m=r("6oRRF");const g=n.object().shape({email:n.string().required("user must provide their email").email("Please provide a valid email").trim(),password:n.string().required("user must provide a password")}),p={email:"",password:""};var h=()=>{m.default("not-protected","/menu");const{alertMessage:e,alertType:r,setAlert:t,showAlert:a}=f.default(),{isLoading:s,login:n}=c.default({onError:e=>{t("danger",e.response.data.message||"something went wrong")}});return o.jsxs(o.Fragment,{children:[a&&o.jsx(u.default,{position:"top-center",type:r,children:e}),o.jsx("div",{className:"login",children:o.jsx(i.Formik,{onSubmit:(e,r)=>{n(e),r.resetForm()},validationSchema:g,initialValues:p,children:o.jsx(i.Form,{className:"login__form",autoComplete:"off",children:o.jsxs("div",{className:"login__form-content",children:[o.jsx("h1",{className:"u-mb-7 u-text-capitalize u-ftwt-400 u-text-primary heading-2",children:"login"}),o.jsx(d.default,{label:"Email",name:"email"}),o.jsx(d.default,{type:"password",label:"Password",name:"password"}),o.jsx(l.default,{children:s?"Loading...":"Login"})]})})})})]})}})),r.register("UT3JG",(function(t,a){e(t.exports,"default",(function(){return i}));var s=r("jFA1T"),o=r("fYxNN"),n=r("1Hhev");var i=({onError:e,onSettled:r,onSuccess:t})=>{const a=s.useQueryClient(),i=n.useHistory(),{mutate:l,isLoading:d,data:u,error:c}=s.useMutation((e=>(async e=>(await o.default({method:"POST",url:"/api/v2/users/login",data:e})).data.user)(e)),{onSuccess:e=>{a.setQueryData("user",e),t&&t(e)},onError:r=>{e&&e(r)},onSettled:(e,t)=>{r&&r(e,t),e&&setTimeout((()=>{i.replace("/menu")}),2500)}});return{login:l,data:u,isLoading:d,error:c}}}));