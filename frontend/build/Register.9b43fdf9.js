!function(){function e(e,r,t,s){Object.defineProperty(e,r,{get:t,set:s,enumerable:!0,configurable:!0})}var r=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequireb892;r.register("d0MFz",(function(t,s){var n;n=t.exports,Object.defineProperty(n,"__esModule",{value:!0,configurable:!0}),e(t.exports,"default",(function(){return y}));var a=r("eGTdo"),o=r("9DAHI"),i=r("21wn6"),u=r("MTsmO"),c=r("36btx"),l=r("bxYpe"),d=r("hZ42O"),f=r("2WtOj"),m=r("eG9zp"),p=r("7NZTF"),g=r("kTDF1"),h=r("39Qpo"),w=r("8j5RM"),v=r("31Nor"),b=r("9lsgi"),x=u.object().shape({name:u.string().required("user must provide their name").trim(),email:u.string().required("user must provide their email").email("please provide a valid email").trim(),password:u.string().required("user must provide a password").min(6,"password must contain atleast 6 characters"),passwordConfirm:u.string().required("users must confirm their password").when("password",{is:function(e){return!!(e&&e.length>0)},then:u.string().oneOf([u.ref("password")],"passwords do not match")})}),j={name:"",email:"",password:"",passwordConfirm:""},y=function(){b.default();var e=h.default(),r=e.alertMessage,t=e.alertType,s=e.setAlert,n=e.showAlert,u=d.useSelector((function(e){return e.location.location})),y=d.useDispatch(),T=w.default(),N=T.isOpen,_=T.onToggle,S=v.default({onSuccess:function(){s("success","Your account has been created successfully..")},onError:function(e){var r,t;s("danger",(null==e||null===(r=e.response)||void 0===r||null===(t=r.data)||void 0===t?void 0:t.message)||"something went wrong")}}),F=S.register,A=S.isLoading;return i.useEffect((function(){y(N?c.updateAllowLocation(!0):c.updateAllowLocation(!1))}),[N,c,y]),o.jsxs(o.Fragment,{children:[n&&o.jsx(f.default,{position:"top-center",type:t,children:r}),o.jsx("div",{className:"register",children:o.jsx(l.Formik,{onSubmit:function(e,r){F(a.objectSpread({},e,{location:u})),r.resetForm()},validationSchema:x,initialValues:j,children:o.jsx(l.Form,{className:"register__form",autoComplete:"off",children:o.jsxs("div",{className:"register__form-content",children:[o.jsx("h1",{className:"u-mb-7 u-ftwt-400 u-text-primary heading-2",children:"Register"}),o.jsx(p.default,{label:"Name",name:"name"}),o.jsx(p.default,{label:"Email",name:"email"}),o.jsx(p.default,{type:"password",label:"Password",name:"password"}),o.jsx(p.default,{type:"password",label:"Password Confirm",name:"passwordConfirm"}),o.jsxs("div",{className:"register__form-switch u-mb-10",children:[o.jsx(g.default,{active:N,color:"tertiary",onToggle:_}),o.jsx("span",{className:"u-ml-5",children:"Address (Give Access To Your Location)"})]}),o.jsx(m.default,{children:A?"Loading...":"Register"})]})})})})]})}})),r.register("kTDF1",(function(t,s){e(t.exports,"default",(function(){return i}));var n=r("9DAHI"),a=r("21wn6"),o={primary:"u-bg-primary",secondary:"u-bg-secondary",tertiary:"u-bg-tertiary",success:"u-bg-success",danger:"u-bg-danger"},i=a.memo((function(e){var r=e.active,t=e.onToggle,s=e.color,a=void 0===s?"primary":s,i=e.className;return n.jsx(n.Fragment,{children:[n.jsx("label",{className:"switch ".concat(r?"switch__active  ".concat(o[a]):""," ").concat(i),onClick:function(){t()},children:n.jsx("div",{className:"switch__slider"})})]})}))})),r.register("31Nor",(function(t,s){e(t.exports,"default",(function(){return l}));var n=r("eGTdo"),a=r("l7kuk"),o=r("4bU42"),i=r("6HHIu"),u=r("ijCuw"),c=n.asyncToGenerator(u.mark((function e(r){var t;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.default({method:"POST",url:"/api/v2/users/register",data:r});case 2:return t=e.sent,e.abrupt("return",t.data.user);case 4:case"end":return e.stop()}}),e)}))),l=function(e){var r=e.onError,t=e.onSettled,s=e.onSuccess,n=o.useHistory(),a=i.useMutation((function(e){return c(e)}),{onSuccess:function(e){s&&s(e)},onError:function(e){r&&r(e)},onSettled:function(e,r){t&&t(e,r),e&&setTimeout((function(){n.replace("/auth/login")}),1500)}}),u=a.mutate,l=a.isLoading;return{register:u,data:a.data,isLoading:l,error:a.error}}}))}();