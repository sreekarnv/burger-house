{"version":3,"sources":["app/Pages/DashBoard/Admin/Orders/UserOrders.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","app/Shared/Utils/formInput.js","app/Shared/hoc/AuthRoutes.js","app/Store/actions/orders.js","app/Shared/Components/List/ListItem.js","app/Pages/DashBoard/components/StatusCard.js","app/Pages/DashBoard/User/components/ListItemOrders.js","app/Pages/DashBoard/components/Orders.js"],"names":["UserOrders","orders","this","props","getAllOrders","heading","loading","getOrdersInit","showOrdersStatus","totalOrders","totalOrdersPrice","totalCompletedOrders","totalPendingOrders","totalCancelledOrders","Component","connect","state","user","auth","dispatch","filter","orderActions","_arrayLikeToArray","arr","len","length","i","arr2","Array","_toConsumableArray","isArray","iter","Symbol","iterator","Object","from","o","minLen","n","prototype","toString","call","slice","constructor","name","test","TypeError","onChangeFormInput","e","formInput","target","value","clearFields","stateCopy","keys","map","el","AuthRoutes","checkAuthState","children","to","checkAuthInit","authActions","getAllUserOrdersFailed","error","type","actionTypes","getAllUserOrders","a","axios","get","res","order","data","customOrders","menuOrders","response","createOrdersFailed","createOrders","method","url","clearCart","getAllOrdersSuccess","pendingOrders","completedOrders","totalPrice","getAllOrdersFailed","query","res2","push","status","price","updateOrderStatusAdminSuccess","updateOrderStatusAdmin","_id","getOrderSuccess","getOrder","id","ingredients","title","foodType","photo","items","parseInt","ListItem","className","style","listStyle","StatusCard","ListItemOrders","date","split","hours","Date","getHours","minutes","getMinutes","seconds","getSeconds","time","results","Orders","onChangeHandler","setState","onFilterHandler","history","Loader","toFixed","onChange","onClick","createdAt","match"],"mappings":"+MAOMA,E,uKAEE,OAAO,kBAAC,IAAD,KACH,kBAAC,IAAD,eACIC,OAAQC,KAAKC,MAAMF,OACnBG,aAAcF,KAAKC,MAAMC,aACzBC,QAAQ,gBACRC,QAASJ,KAAKC,MAAMI,cACpBC,kBAAkB,EAClBC,YAAaP,KAAKC,MAAMM,YACxBC,iBAAkBR,KAAKC,MAAMO,iBAC7BC,qBAAsBT,KAAKC,MAAMQ,qBACjCC,mBAAoBV,KAAKC,MAAMS,mBAC/BC,qBAAsBX,KAAKC,MAAMU,sBAC7BX,KAAKC,a,GAdAW,aAyCVC,uBArBS,SAAAC,GACpB,MAAO,CACHf,OAAQe,EAAMf,OAAOA,OACrBM,cAAeS,EAAMf,OAAOM,cAC5BU,KAAMD,EAAME,KAAKD,KACjBR,YAAaO,EAAMf,OAAOQ,YAC1BC,iBAAkBM,EAAMf,OAAOS,iBAC/BC,qBAAsBK,EAAMf,OAAOU,qBACnCC,mBAAoBI,EAAMf,OAAOW,mBACjCC,qBAAsBG,EAAMf,OAAOY,yBAKhB,SAAAM,GACvB,MAAO,CACHf,aAAc,SAACgB,GAAD,OAAYD,EAASE,IAA0BD,QAKtDL,CAA6Cf,I,gCChD7C,SAASsB,EAAkBC,EAAKC,IAClC,MAAPA,GAAeA,EAAMD,EAAIE,UAAQD,EAAMD,EAAIE,QAE/C,IAAK,IAAIC,EAAI,EAAGC,EAAO,IAAIC,MAAMJ,GAAME,EAAIF,EAAKE,IAC9CC,EAAKD,GAAKH,EAAIG,GAGhB,OAAOC,ECHM,SAASE,EAAmBN,GACzC,OCJa,SAA4BA,GACzC,GAAIK,MAAME,QAAQP,GAAM,OAAO,EAAiBA,GDGzC,CAAkBA,IELZ,SAA0BQ,GACvC,GAAsB,qBAAXC,QAA0BA,OAAOC,YAAYC,OAAOH,GAAO,OAAOH,MAAMO,KAAKJ,GFIvD,CAAgBR,IGJpC,SAAqCa,EAAGC,GACrD,GAAKD,EAAL,CACA,GAAiB,kBAANA,EAAgB,OAAO,EAAiBA,EAAGC,GACtD,IAAIC,EAAIJ,OAAOK,UAAUC,SAASC,KAAKL,GAAGM,MAAM,GAAI,GAEpD,MADU,WAANJ,GAAkBF,EAAEO,cAAaL,EAAIF,EAAEO,YAAYC,MAC7C,QAANN,GAAqB,QAANA,EAAoBV,MAAMO,KAAKG,GACxC,cAANA,GAAqB,2CAA2CO,KAAKP,GAAW,EAAiBF,EAAGC,QAAxG,GHFyD,CAA2Bd,IILvE,WACb,MAAM,IAAIuB,UAAU,wIJIwE,G,yJKLjFC,EAAoB,SAACC,EAAGhC,GACjC,OAAO,2BACAA,GADP,IAEIiC,UAAU,2BACHjC,EAAMiC,WADJ,kBAEJD,EAAEE,OAAON,KAAOI,EAAEE,OAAOC,WAKzBC,EAAc,SAACpC,GACxB,IAAIqC,EAAS,eAAQrC,EAAMiC,WACvBA,EAAY,GAIhB,OAHAf,OAAOoB,KAAKD,GAAWE,KAAI,SAAAC,GACvB,OAAOP,EAAUO,GAAM,MAEpBP,I,mICVLQ,E,4SAEQvD,KAAKC,MAAMuD,iB,qIAIjB,OAAKxD,KAAKC,MAAMc,KAITf,KAAKC,MAAMwD,SAHP,kBAAC,IAAD,CAAUC,GAAG,e,GAPP9C,aA4BVC,iBAbS,SAAAC,GACpB,MAAO,CACHC,KAAMD,EAAME,KAAKD,KACjB4C,cAAe7C,EAAME,KAAK2C,kBAIP,SAAA1C,GACvB,MAAO,CACHuC,eAAgB,kBAAMvC,EAAS2C,WAIxB/C,CAA6C0C,I,+SChB/CM,EAAyB,SAAAC,GAClC,MAAO,CACHC,KAAMC,IACNF,UAKKG,EAAmB,WAC5B,8CAAO,WAAMhD,GAAN,mBAAAiD,EAAA,6DACHjD,EAtBG,CACH8C,KAAMC,MAoBH,kBAGmBG,IAAMC,IAAN,qBAHnB,OAGOC,EAHP,OAIKC,EAAQtC,OAAOoB,KAAKiB,EAAIE,KAAKxE,QAAQsD,KAAI,SAAAC,GACzC,OAAO,2BACAe,EAAIE,KAAKxE,OAAOuD,IADvB,IAEIvD,OAAO,GAAD,mBAAMsE,EAAIE,KAAKxE,OAAOuD,GAAIkB,cAA1B,YAA2CH,EAAIE,KAAKxE,OAAOuD,GAAImB,aACrED,aAAc,KACdC,WAAY,UAGpBxD,GA5B4BlB,EA4BKuE,EA3BlC,CACHP,KAAMC,IACNjE,YAaG,gDAcO+D,EAAQ,qBAAWY,SACzBzD,EAAS4C,EAAuBC,IAfjC,kCAhB4B,IAAC/D,IAgB7B,oBAAP,uDAkCS4E,EAAqB,SAAAb,GAC9B,MAAO,CACHC,KAAMC,IACNF,UAIKc,EAAe,SAACL,GACzB,8CAAO,WAAMtD,GAAN,iBAAAiD,EAAA,6DACHjD,EArBG,CACH8C,KAAMC,MAmBH,kBAGmBG,IAAM,CACpBU,OAAQ,OACRC,IAAI,iBACJP,SANL,OAGOF,EAHP,OAQCpD,GAvBwBlB,EAuBKsE,EAAIE,KAAKxE,OAtBvC,CACHgE,KAAMC,IACNjE,YAYG,gDAUO+D,EAAQ,qBAAWY,SACzBzD,EAAS0D,EAAmBb,IAX7B,kCAfwB,IAAC/D,IAezB,oBAAP,uDAgBSgF,EAAY,WACrB,MAAO,CACHhB,KAAMC,MAUDgB,EAAsB,SAAC,GAAwE,IAAtEV,EAAqE,EAArEA,MAAO/D,EAA8D,EAA9DA,YAAa0E,EAAiD,EAAjDA,cAAeC,EAAkC,EAAlCA,gBAAiBC,EAAiB,EAAjBA,WACtF,MAAO,CACHpB,KAAMC,IACNjE,OAAQuE,EACR/D,cACA0E,gBACAC,kBACAC,eAIKC,EAAqB,SAAAtB,GAC9B,MAAO,CACHC,KAAMC,IACNF,UAIK5D,EAAe,SAACgB,GACzB,8CAAO,WAAMD,GAAN,+BAAAiD,EAAA,6DACHjD,EAzBG,CACH8C,KAAMC,MAuBH,SAGKM,EAAQ,GACRe,EAAQ,GAJb,SAMmBlB,IAAMC,IAAN,kBANnB,UAMOC,EANP,OAQgB,eAAXnD,EARL,wBASKmE,EAAK,kBAAcnE,GATxB,UAUkBiD,IAAMC,IAAN,wBAA2BiB,IAV7C,QAUKC,EAVL,OAYKtD,OAAOoB,KAAKkC,EAAKf,KAAKxE,QAAQsD,KAAI,SAAAC,GAO9B,OANAgB,EAAMiB,KAAN,2BACOD,EAAKf,KAAKxE,OAAOuD,IADxB,IAEIvD,OAAO,GAAD,mBAAMsE,EAAIE,KAAKxE,OAAOuD,GAAIkB,cAA1B,YAA2CH,EAAIE,KAAKxE,OAAOuD,GAAImB,aACrED,aAAc,KACdC,WAAY,QAETH,KAnBhB,QAwBK/D,EAAc8D,EAAIE,KAAKxE,OAAOwB,OAC9B4D,EAAa,EACbF,EAAgB,EAChBC,EAAkB,EAEtBlD,OAAOoB,KAAKiB,EAAIE,KAAKxE,QAAQsD,KAAI,SAAAC,GAU7B,MATmC,YAA/Be,EAAIE,KAAKxE,OAAOuD,GAAIkC,OACpBP,GAAiB,EACqB,cAA/BZ,EAAIE,KAAKxE,OAAOuD,GAAIkC,SAC3BN,GAAmB,GAGY,cAA/Bb,EAAIE,KAAKxE,OAAOuD,GAAIkC,SAAwBL,GAAcd,EAAIE,KAAKxE,OAAOuD,GAAImC,OAGnE,eAAXvE,GACAoD,EAAMiB,KAAN,2BACOlB,EAAIE,KAAKxE,OAAOuD,IADvB,IAEIvD,OAAO,GAAD,mBAAMsE,EAAIE,KAAKxE,OAAOuD,GAAIkB,cAA1B,YAA2CH,EAAIE,KAAKxE,OAAOuD,GAAImB,aACrED,aAAc,KACdC,WAAY,QAETH,GAEJ,MAIXrD,EAAS+D,EAAoB,CAAEV,QAAO/D,cAAa0E,gBAAeC,kBAAiBC,gBApDpF,kDAuDOrB,EAAQ,qBAAWY,SACzBzD,EAASmE,EAAmBtB,IAxD7B,0DAAP,uDAoES4B,EAAgC,SAACrB,GAC1C,MAAO,CACHN,KAAMC,KACNU,SAAUL,IAYLsB,EAAyB,SAAC,GAAqB,IAAnBH,EAAkB,EAAlBA,OAAQI,EAAU,EAAVA,IAC7C,8CAAO,WAAM3E,GAAN,eAAAiD,EAAA,+EAEmBC,IAAM,CACpBW,IAAI,kBAAD,OAAoBc,GACvBf,OAAQ,QACRN,KAAM,CAAEiB,YALb,OAEOnB,EAFP,OAOCpD,EAASyE,EAA8BrB,EAAIE,OAP5C,gDASCtD,EAASyE,EAA8B,KAAIhB,SAASH,OATrD,yDAAP,uDAqBSsB,EAAkB,SAACvB,GAC5B,MAAO,CACHP,KAAMC,IACNM,UAYKwB,EAAW,SAACC,GACrB,8CAAO,WAAM9E,GAAN,mBAAAiD,EAAA,6DACHjD,EAtBG,CACH8C,KAAMC,MAoBH,kBAGmBG,IAAM,CACpBW,IAAI,kBAAD,OAAoBiB,GACvBlB,OAAQ,QALb,OAGOR,EAHP,OAUKG,EAAe,GAEnBH,EAAIE,KAAKD,MAAME,aAAanB,KAAI,SAAAC,GAY5B,OAXAkB,EAAae,KAAK,CACdK,IAAK,CACDI,YAAa1C,EAAG0C,YAChBC,MAAO3C,EAAGZ,KACVwD,SAAU5C,EAAG4C,SACbN,IAAKtC,EAAGsC,IACRO,MAAO7C,EAAG6C,MACVV,MAAOnC,EAAGmC,OAEdW,MAAOC,SAAS/C,EAAG8C,SAEhB5B,KAGXF,EAAK,2BACED,EAAIE,KAAKD,OADX,IAEDvE,OAAO,GAAD,OAAMyE,EAAN,YAAuBH,EAAIE,KAAKD,MAAMG,aAC5CD,aAAc,KACdC,WAAY,OAEhBxD,EAAS4E,EAAgBvB,IAjC1B,kDAoCCrD,GA7CkB6C,EA6CM,KAAIY,SAASH,KA5CtC,CACHR,KAAMC,IACNF,WAMG,kCATmB,IAAAA,IASnB,qBAAP,wD,gCC7OJ,4BAWewC,IARE,SAAArG,GACb,OACI,kBAAC,IAAD,CAAMyD,GAAIzD,EAAMyD,GAAKzD,EAAMyD,GAAK,IAAK6C,UAAS,qBAAgBtG,EAAMsG,WAAaC,MAAO,CAAEC,UAAW,SAChGxG,EAAMwD,Y,gCCNnB,oBAYeiD,IAVI,SAAAzG,GACf,OACI,yBAAKsG,UAAS,uBAAkBtG,EAAMsG,YAClC,4BAAKtG,EAAME,SACX,2BAAIF,EAAMgD,U,2HCiBP0D,EAnBQ,SAAA1G,GACnB,IAAI2G,EAAO,UAAG3G,EAAM2G,MAAOC,MAAM,KAC7BC,EAAQ,IAAIC,KAAK9G,EAAM2G,MAAMI,WAC7BC,EAAU,IAAIF,KAAK9G,EAAM2G,MAAMM,aAC/BC,EAAU,IAAIJ,KAAK9G,EAAM2G,MAAMQ,aAC/BC,EAAI,UAAMP,EAAN,YAAeG,EAAf,YAA0BE,GAIlC,OAFAP,EAAI,UAAMA,EAAK,GAAX,aAAkBS,GAGlB,kBAACf,EAAA,EAAD,CACIC,UAAS,8CAAyCtG,EAAMuF,QAAU9B,GAAIzD,EAAMyD,IAC5E,uBAAG6C,UAAU,0BAA0BK,GACvC,wBAAIL,UAAU,0BAAd,IAAyCtG,EAAM8F,GAA/C,KAAqD9F,EAAMqH,QAA3D,KACA,wBAAIf,UAAU,2BAAd,MAA4CtG,EAAMwF,S,wBCVxD8B,E,4MACFzG,MAAQ,CACJiC,UAAW,CACPhD,OAAQ,Y,EAWhByH,gBAAkB,SAAA1E,GACd,IAAIC,EAAYF,YAAkBC,EAAD,eAAS,EAAKhC,QAC/C,EAAK2G,SAAL,eAAmB1E,K,EAIvB2E,gBAAkB,WACd,EAAKzH,MAAMC,aAAa,EAAKY,MAAMiC,UAAUhD,S,4LAbvCC,KAAKC,MAAMC,aAAaF,KAAKc,MAAMiC,UAAUhD,Q,OAC9CC,KAAKC,MAAMc,MACZf,KAAKC,MAAM0H,QAAQpC,KAAK,U,qIActB,IAAD,OACDxF,EAASC,KAAKC,MAAMF,OAExB,OAAIC,KAAKC,MAAMG,QACJ,yBAAKmG,UAAU,0DAAyD,kBAACqB,EAAA,EAAD,OAG9E5H,KAAKC,MAAMF,OAKZ,yBAAKwG,UAAS,+BAA0BvG,KAAKC,MAAMK,iBAArC,0BACV,wBAAIiG,UAAU,4CACTvG,KAAKC,MAAME,SAEfH,KAAKC,MAAMK,kBAAoB,wBAAIiG,UAAU,2BAC1C,0BAAMA,UAAU,6BAAhB,qBACA,0BAAMA,UAAU,mBAAhB,MAAsCvG,KAAKC,MAAMO,iBAAiBqH,QAAQ,KAE7E7H,KAAKC,MAAMK,kBAAoB,yBAC5BiG,UAAS,kBACT,kBAACG,EAAA,EAAD,CAAYH,UAAU,gBAAgBpG,QAAQ,eAAe8C,MAAOjD,KAAKC,MAAMM,cAC/E,kBAACmG,EAAA,EAAD,CAAYH,UAAU,mBAAmBpG,QAAQ,mBAAmB8C,MAAOjD,KAAKC,MAAMU,uBACtF,kBAAC+F,EAAA,EAAD,CAAYH,UAAU,iBAAiBpG,QAAQ,mBAAmB8C,MAAOjD,KAAKC,MAAMQ,uBACpF,kBAACiG,EAAA,EAAD,CAAYH,UAAU,gBAAgBpG,QAAQ,iBAAiB8C,MAAOjD,KAAKC,MAAMS,sBAEpFV,KAAKC,MAAMK,kBACR,yBAAKiG,UAAU,4CACX,4BAAQ7D,KAAK,SAASqD,GAAG,SAASQ,UAAU,qBACxCuB,SAAU9H,KAAKwH,gBACfvE,MAAOjD,KAAKc,MAAMiC,UAAUhD,QAE5B,4BAAQkD,MAAM,WAAd,kBACA,4BAAQA,MAAM,cAAd,cACA,4BAAQA,MAAM,aAAd,oBACA,4BAAQA,MAAM,aAAd,qBAEJ,4BACI8E,QAAS/H,KAAK0H,gBACd3D,KAAK,SAASwC,UAAU,oBAF5B,WAOR,yBAAKA,UAAU,gBACVxG,EAAOwB,OAAS,EACXxB,EAAOsD,KAAI,SAAAC,GACT,OAAO,kBAAC,EAAD,CACHyC,GAAIzC,EAAGsC,IACP0B,QAAShE,EAAGvD,OAAOwB,OACnBkE,MAAOnC,EAAGmC,MACVmB,KAAMtD,EAAG0E,UACTxC,OAAQlC,EAAGkC,OACX9B,GAAE,UAAK,EAAKzD,MAAMgI,MAAMnD,IAAtB,YAA6BxB,EAAGsC,UAGxC,wBAAIW,UAAU,uBAAd,8BAjDP,wBAAIA,UAAU,kBAAd,0B,GAhCE3F,aAyFN2G","file":"static/js/9.d71d7290.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Orders from '../../components/Orders';\r\nimport * as orderActions from '../../../../Store/actions/orders';\r\nimport AuthRoutes from '../../../../Shared/hoc/AuthRoutes';\r\n\r\n\r\nclass UserOrders extends Component {\r\n    render() {\r\n        return <AuthRoutes>\r\n            <Orders\r\n                orders={this.props.orders}\r\n                getAllOrders={this.props.getAllOrders}\r\n                heading=\"Manage Orders\"\r\n                loading={this.props.getOrdersInit}\r\n                showOrdersStatus={true}\r\n                totalOrders={this.props.totalOrders}\r\n                totalOrdersPrice={this.props.totalOrdersPrice}\r\n                totalCompletedOrders={this.props.totalCompletedOrders}\r\n                totalPendingOrders={this.props.totalPendingOrders}\r\n                totalCancelledOrders={this.props.totalCancelledOrders}\r\n                {...this.props}\r\n            />\r\n        </AuthRoutes>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        orders: state.orders.orders,\r\n        getOrdersInit: state.orders.getOrdersInit,\r\n        user: state.auth.user,\r\n        totalOrders: state.orders.totalOrders,\r\n        totalOrdersPrice: state.orders.totalOrdersPrice,\r\n        totalCompletedOrders: state.orders.totalCompletedOrders,\r\n        totalPendingOrders: state.orders.totalPendingOrders,\r\n        totalCancelledOrders: state.orders.totalCancelledOrders\r\n    }\r\n}\r\n\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        getAllOrders: (filter) => dispatch(orderActions.getAllOrders(filter)),\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserOrders);","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export const onChangeFormInput = (e, state) => {\r\n    return {\r\n        ...state,\r\n        formInput: {\r\n            ...state.formInput,\r\n            [e.target.name]: e.target.value\r\n        }\r\n    }\r\n}\r\n\r\nexport const clearFields = (state) => {\r\n    let stateCopy = { ...state.formInput };\r\n    let formInput = {};\r\n    Object.keys(stateCopy).map(el => {\r\n        return formInput[el] = ''\r\n    })\r\n    return formInput;\r\n}","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nimport * as authActions from '../../Store/actions/auth';\r\nimport { Redirect } from 'react-router';\r\n\r\nclass AuthRoutes extends Component {\r\n    async componentDidMount() {\r\n        await this.props.checkAuthState();\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.user) {\r\n            return <Redirect to=\"/login\" />\r\n        }\r\n\r\n        return this.props.children\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        user: state.auth.user,\r\n        checkAuthInit: state.auth.checkAuthInit\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        checkAuthState: () => dispatch(authActions.checkAuth()),\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AuthRoutes);","import * as actionTypes from './actions';\r\nimport axios from 'axios';\r\n\r\n\r\n\r\nexport const getAllUserOrdersInit = () => {\r\n    return {\r\n        type: actionTypes.GET_ALL_USER_ORDERS_INIT\r\n    }\r\n}\r\n\r\nexport const getAllUserOrdersSuccess = (orders) => {\r\n    return {\r\n        type: actionTypes.GET_ALL_USER_ORDERS_SUCCESS,\r\n        orders\r\n    }\r\n}\r\n\r\nexport const getAllUserOrdersFailed = error => {\r\n    return {\r\n        type: actionTypes.GET_ALL_USER_ORDERS_FAILED,\r\n        error\r\n    }\r\n}\r\n\r\n\r\nexport const getAllUserOrders = () => {\r\n    return async dispatch => {\r\n        dispatch(getAllUserOrdersInit());\r\n        try {\r\n            const res = await axios.get(`/api/v1/orders/me`)\r\n            let order = Object.keys(res.data.orders).map(el => {\r\n                return {\r\n                    ...res.data.orders[el],\r\n                    orders: [...res.data.orders[el].customOrders, ...res.data.orders[el].menuOrders],\r\n                    customOrders: null,\r\n                    menuOrders: null,\r\n                }\r\n            })\r\n            dispatch(getAllUserOrdersSuccess(order));\r\n        } catch (err) {\r\n            const error = { ...err }.response\r\n            dispatch(getAllUserOrdersFailed(error));\r\n        }\r\n    }\r\n}\r\n//////////////////////////////////////////////////////////////////////////////////////\r\n\r\nexport const createOrdersInit = () => {\r\n    return {\r\n        type: actionTypes.CREATE_ORDER_INIT\r\n    }\r\n}\r\n\r\nexport const createOrdersSuccess = (orders) => {\r\n    return {\r\n        type: actionTypes.CREATE_ORDER_SUCCESS,\r\n        orders\r\n    }\r\n}\r\n\r\nexport const createOrdersFailed = error => {\r\n    return {\r\n        type: actionTypes.CREATE_ORDER_FAILED,\r\n        error\r\n    }\r\n}\r\n\r\nexport const createOrders = (data) => {\r\n    return async dispatch => {\r\n        dispatch(createOrdersInit());\r\n        try {\r\n            const res = await axios({\r\n                method: 'POST',\r\n                url: `/api/v1/orders`,\r\n                data\r\n            })\r\n            dispatch(createOrdersSuccess(res.data.orders))\r\n        } catch (err) {\r\n            const error = { ...err }.response\r\n            dispatch(createOrdersFailed(error));\r\n        }\r\n    }\r\n}\r\n///////////////////////////////////////////////////////////////////////////////\r\nexport const clearCart = () => {\r\n    return {\r\n        type: actionTypes.CLEAR_CART\r\n    }\r\n}\r\n//////////////////////////////////////////////////////////////////////////////////////\r\nexport const getAllOrdersInit = () => {\r\n    return {\r\n        type: actionTypes.GET_ALL_ORDERS_INIT\r\n    }\r\n}\r\n\r\nexport const getAllOrdersSuccess = ({ order, totalOrders, pendingOrders, completedOrders, totalPrice }) => {\r\n    return {\r\n        type: actionTypes.GET_ALL_ORDERS_SUCCESS,\r\n        orders: order,\r\n        totalOrders,\r\n        pendingOrders,\r\n        completedOrders,\r\n        totalPrice\r\n    }\r\n}\r\n\r\nexport const getAllOrdersFailed = error => {\r\n    return {\r\n        type: actionTypes.GET_ALL_ORDERS_FAILED,\r\n        error\r\n    }\r\n}\r\n\r\nexport const getAllOrders = (filter) => {\r\n    return async dispatch => {\r\n        dispatch(getAllOrdersInit());\r\n        try {\r\n            let order = [];\r\n            let query = '', res2;\r\n\r\n            const res = await axios.get(`/api/v1/orders`)\r\n\r\n            if (filter !== 'All Orders') {\r\n                query = `?status=${filter}`\r\n                res2 = await axios.get(`/api/v1/orders${query}`)\r\n\r\n                Object.keys(res2.data.orders).map(el => {\r\n                    order.push({\r\n                        ...res2.data.orders[el],\r\n                        orders: [...res.data.orders[el].customOrders, ...res.data.orders[el].menuOrders],\r\n                        customOrders: null,\r\n                        menuOrders: null,\r\n                    })\r\n                    return order;\r\n                })\r\n\r\n\r\n            }\r\n            let totalOrders = res.data.orders.length;\r\n            let totalPrice = 0;\r\n            let pendingOrders = 0;\r\n            let completedOrders = 0;\r\n\r\n            Object.keys(res.data.orders).map(el => {\r\n                if (res.data.orders[el].status === 'pending') {\r\n                    pendingOrders += 1;\r\n                } else if (res.data.orders[el].status === 'delivered') {\r\n                    completedOrders += 1;\r\n                }\r\n\r\n                if (res.data.orders[el].status !== 'cancelled') totalPrice += res.data.orders[el].price;\r\n\r\n\r\n                if (filter === 'All Orders') {\r\n                    order.push({\r\n                        ...res.data.orders[el],\r\n                        orders: [...res.data.orders[el].customOrders, ...res.data.orders[el].menuOrders],\r\n                        customOrders: null,\r\n                        menuOrders: null,\r\n                    })\r\n                    return order;\r\n                }\r\n                return '';\r\n            })\r\n\r\n\r\n            dispatch(getAllOrdersSuccess({ order, totalOrders, pendingOrders, completedOrders, totalPrice }));\r\n\r\n        } catch (err) {\r\n            const error = { ...err }.response\r\n            dispatch(getAllOrdersFailed(error));\r\n        }\r\n    }\r\n}\r\n///////////////////////////////////////////////////////////////\r\n\r\nexport const updateOrderStatusAdminInit = () => {\r\n    return {\r\n        type: actionTypes.UPDATE_ORDER_ADMIN_STATUS_INIT\r\n    }\r\n}\r\n\r\nexport const updateOrderStatusAdminSuccess = (res) => {\r\n    return {\r\n        type: actionTypes.UPDATE_ORDER_ADMIN_STATUS_SUCCESS,\r\n        response: res\r\n    }\r\n}\r\n\r\nexport const updateOrderStatusAdminFailed = (error) => {\r\n    return {\r\n        type: actionTypes.UPDATE_ORDER_ADMIN_STATUS_FAILED,\r\n        error\r\n    }\r\n}\r\n\r\n\r\nexport const updateOrderStatusAdmin = ({ status, _id }) => {\r\n    return async dispatch => {\r\n        try {\r\n            const res = await axios({\r\n                url: `/api/v1/orders/${_id}`,\r\n                method: 'PATCH',\r\n                data: { status }\r\n            })\r\n            dispatch(updateOrderStatusAdminSuccess(res.data))\r\n        } catch (err) {\r\n            dispatch(updateOrderStatusAdminSuccess(err.response.data))\r\n        }\r\n    }\r\n}\r\n////////////////////////////////////////////////////////////////////////\r\n\r\nexport const getOrderInit = () => {\r\n    return {\r\n        type: actionTypes.GET_ORDER_INIT\r\n    }\r\n}\r\n\r\nexport const getOrderSuccess = (order) => {\r\n    return {\r\n        type: actionTypes.GET_ORDER_SUCCESS,\r\n        order\r\n    }\r\n}\r\n\r\nexport const getOrderFailed = error => {\r\n    return {\r\n        type: actionTypes.GET_ORDER_SUCCESS,\r\n        error\r\n    }\r\n}\r\n\r\n\r\nexport const getOrder = (id) => {\r\n    return async dispatch => {\r\n        dispatch(getOrderInit())\r\n        try {\r\n            const res = await axios({\r\n                url: `/api/v1/orders/${id}`,\r\n                method: 'get',\r\n            })\r\n\r\n            let order;\r\n\r\n            let customOrders = [];\r\n\r\n            res.data.order.customOrders.map(el => {\r\n                customOrders.push({\r\n                    _id: {\r\n                        ingredients: el.ingredients,\r\n                        title: el.name,\r\n                        foodType: el.foodType,\r\n                        _id: el._id,\r\n                        photo: el.photo,\r\n                        price: el.price,\r\n                    },\r\n                    items: parseInt(el.items),\r\n                })\r\n                return customOrders;\r\n            })\r\n\r\n            order = {\r\n                ...res.data.order,\r\n                orders: [...customOrders, ...res.data.order.menuOrders],\r\n                customOrders: null,\r\n                menuOrders: null,\r\n            }\r\n            dispatch(getOrderSuccess(order))\r\n\r\n        } catch (err) {\r\n            dispatch(getOrderFailed(err.response.data))\r\n        }\r\n    }\r\n}\r\n\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst ListItem = props => {\r\n    return (\r\n        <Link to={props.to ? props.to : '#'} className={`list__item ${props.className}`} style={{ listStyle: 'none' }} >\r\n            {props.children}\r\n        </Link>\r\n    )\r\n}\r\n\r\nexport default ListItem\r\n","import React from 'react'\r\n\r\nconst StatusCard = props => {\r\n    return (\r\n        <div className={`card__status ${props.className}`}>\r\n            <h2>{props.heading}</h2>\r\n            <p>{props.value}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default StatusCard\r\n","import React from 'react';\r\n\r\nimport ListItem from '../../../../Shared/Components/List/ListItem';\r\n\r\nconst ListItemOrders = props => {\r\n    let date = `${props.date}`.split('T');\r\n    let hours = new Date(props.date).getHours()\r\n    let minutes = new Date(props.date).getMinutes()\r\n    let seconds = new Date(props.date).getSeconds()\r\n    let time = `${hours}:${minutes}:${seconds}`\r\n\r\n    date = `${date[0]}\\n${time}`\r\n\r\n    return (\r\n        <ListItem\r\n            className={`orders__list-item orders__list-item-${props.status}`} to={props.to} >\r\n            <p className=\"orders__list-item-date\">{date}</p>\r\n            <h3 className=\"orders__list-item-name\">#{props.id} ({props.results})</h3>\r\n            <h2 className=\"orders__list-item-price\">Rs {props.price}</h2>\r\n        </ListItem>\r\n    )\r\n}\r\n\r\nexport default ListItemOrders;\r\n\r\n\r\n\r\n\r\n","import React, { Component } from 'react';\r\n\r\nimport ListItem from '../User/components/ListItemOrders';\r\nimport Loader from '../../../Shared/Components/Loader/Loader';\r\nimport StatusCard from './StatusCard';\r\n\r\nimport { onChangeFormInput } from '../../../Shared/Utils/formInput';\r\n\r\nclass Orders extends Component {\r\n    state = {\r\n        formInput: {\r\n            orders: 'pending'\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.props.getAllOrders(this.state.formInput.orders);\r\n        if (!this.props.user) {\r\n            this.props.history.push('/login')\r\n        }\r\n    }\r\n\r\n    onChangeHandler = e => {\r\n        let formInput = onChangeFormInput(e, { ...this.state })\r\n        this.setState({ ...formInput })\r\n    }\r\n\r\n\r\n    onFilterHandler = () => {\r\n        this.props.getAllOrders(this.state.formInput.orders)\r\n    }\r\n\r\n    render() {\r\n        let orders = this.props.orders;\r\n\r\n        if (this.props.loading) {\r\n            return <div className=\"u-flex-center dashboard__dashboard u-bg-white u-vh-100\"><Loader /></div>\r\n        }\r\n\r\n        if (!this.props.orders) {\r\n            return <h4 className=\"u-text-success\">You have no orders</h4>\r\n        }\r\n\r\n        return (\r\n            <div className={`orders orders-status-${this.props.showOrdersStatus} dashboard__dashboard`}>\r\n                <h2 className=\"orders__heading heading-1 u-text-primary\">\r\n                    {this.props.heading}\r\n                </h2>\r\n                {this.props.showOrdersStatus && <h2 className=\"orders__price heading-2\">\r\n                    <span className=\"u-text-success u-ftwt-400\">Total Amount:&nbsp;</span>\r\n                    <span className=\"u-text-tertiary\">Rs {this.props.totalOrdersPrice.toFixed(2)}</span>\r\n                </h2>}\r\n                {this.props.showOrdersStatus && <div\r\n                    className={`orders__status`}>\r\n                    <StatusCard className=\"u-text-danger\" heading=\"total Orders\" value={this.props.totalOrders} />\r\n                    <StatusCard className=\"u-text-grey-dark\" heading=\"Cancelled Orders\" value={this.props.totalCancelledOrders} />\r\n                    <StatusCard className=\"u-text-success\" heading=\"Delivered orders\" value={this.props.totalCompletedOrders} />\r\n                    <StatusCard className=\"u-text-danger\" heading=\"pending orders\" value={this.props.totalPendingOrders} />\r\n                </div>}\r\n                {this.props.showOrdersStatus &&\r\n                    <div className=\"form__group u-text-center orders__filter\">\r\n                        <select name=\"orders\" id=\"orders\" className=\"form__input u-mr-2\"\r\n                            onChange={this.onChangeHandler}\r\n                            value={this.state.formInput.orders}\r\n                        >\r\n                            <option value=\"pending\">Pending Orders</option>\r\n                            <option value=\"All Orders\">All Orders</option>\r\n                            <option value=\"delivered\">Delivered Orders</option>\r\n                            <option value=\"cancelled\">Cancelled Orders</option>\r\n                        </select>\r\n                        <button\r\n                            onClick={this.onFilterHandler}\r\n                            type=\"submit\" className=\"btn__primary btn\">\r\n                            Filter\r\n                        </button>\r\n                    </div>\r\n                }\r\n                <div className=\"orders__list\">\r\n                    {orders.length > 0\r\n                        ? orders.map(el => {\r\n                            return <ListItem\r\n                                id={el._id}\r\n                                results={el.orders.length}\r\n                                price={el.price}\r\n                                date={el.createdAt}\r\n                                status={el.status}\r\n                                to={`${this.props.match.url}/${el._id}`}\r\n                            />\r\n                        })\r\n                        : <h4 className=\"orders__list--empty\">There are no Orders Left</h4>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Orders; \r\n"],"sourceRoot":""}